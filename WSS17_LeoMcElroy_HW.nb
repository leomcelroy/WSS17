(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='WolframDesktop 11.1' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       161,          7]
NotebookDataLength[    147235,       3440]
NotebookOptionsPosition[    132639,       3098]
NotebookOutlinePosition[    135347,       3162]
CellTagsIndexPosition[    135304,       3159]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["Sandpile Model for Self-Organized Criticality", "Title",
 CellChangeTimes->{{3.700774153171832*^9, 3.700774159196458*^9}, {
  3.7071741246462393`*^9, 
  3.707174137717668*^9}},ExpressionUUID->"20d6092e-b2cf-4470-a22a-\
72097b825329"],

Cell["\<\
The sandpile model or Bak-Tang-Wiesenfeld sandpile was developed to \
demonstrate how a simple system can bring itself to a critical state without \
the need of careful tuning.\
\>", "Abstract",
 CellChangeTimes->{{3.700774172671139*^9, 3.700774220850109*^9}, {
  3.700778895632181*^9, 3.700778896308676*^9}, {3.707174153076036*^9, 
  3.707174167501589*^9}, {3.707174217521901*^9, 
  3.7071742902496967`*^9}},ExpressionUUID->"80f79efe-4557-4cec-8a49-\
741932455df0"],

Cell[CellGroupData[{

Cell["Setting Up the Model", "Section",
 CellChangeTimes->{{3.700774708350976*^9, 3.700774714085747*^9}, {
  3.707174296330513*^9, 3.707174300518691*^9}, {3.707183757972582*^9, 
  3.707183763050873*^9}},ExpressionUUID->"601ecc6d-829b-49bf-b3f8-\
b71c3d8dff03"],

Cell["\<\
Our model involves placing sand on a table and adding grains one by one as we \
observe collapses. Let\[CloseCurlyQuote]s start by making our table.\
\>", "Text",
 CellChangeTimes->{{3.700774312865305*^9, 3.700774350341485*^9}, {
  3.707174304048258*^9, 3.707174335428431*^9}, {3.707174667397688*^9, 
  3.707174703018668*^9}, {3.707214932362406*^9, 3.7072149337120934`*^9}, {
  3.707253135059785*^9, 3.707253190134965*^9}, {3.707253229909343*^9, 
  3.7072532305167913`*^9}},ExpressionUUID->"9c9831d7-4344-49d0-971c-\
8b79594be7ef"],

Cell["We begin by picking our table size:", "Direction",
 CellChangeTimes->{{3.700774271565714*^9, 3.70077428101515*^9}, {
  3.7071743501528053`*^9, 3.7071743557471952`*^9}, {3.707174688064344*^9, 
  3.7071747793311234`*^9}, {3.707178836387372*^9, 3.707178836750312*^9}, {
  3.7072153537899*^9, 
  3.707215365983244*^9}},ExpressionUUID->"ce23dc15-1a79-4b3a-b2f0-\
cf57149c507a"],

Cell[BoxData[
 RowBox[{"gridSize", ":=", "8"}]], "Input",
 InitializationCell->True,
 CellLabel->"In[56]:=",ExpressionUUID->"2ccbcc0f-2983-4b0d-a9fc-66160ac1c82a"],

Cell["Now let\[CloseCurlyQuote]s generate a matrix to represent our table:", \
"Direction",
 CellChangeTimes->{{3.700774271565714*^9, 3.70077428101515*^9}, {
  3.7071743501528053`*^9, 3.7071743557471952`*^9}, {3.707174688064344*^9, 
  3.7071747793311234`*^9}, {3.707178836387372*^9, 3.707178836750312*^9}, {
  3.7072153537899*^9, 
  3.707215387467507*^9}},ExpressionUUID->"94bec468-5087-4807-b2e0-\
60688b492b45"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"sandTable", " ", "=", " ", 
   RowBox[{"Table", "[", 
    RowBox[{"0", ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", "gridSize"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"j", ",", "1", ",", "gridSize"}], "}"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"ArrayPlot", "[", 
  RowBox[{"sandTable", ",", 
   RowBox[{"Mesh", "\[Rule]", " ", "True"}]}], "]"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.7071748089644623`*^9, 3.707174842131503*^9}, {
  3.707181136945641*^9, 3.707181137623733*^9}, {3.707181811131488*^9, 
  3.707181814182598*^9}, {3.707182606676475*^9, 3.7071826100839853`*^9}, {
  3.707211665684875*^9, 3.707211665976686*^9}, {3.707215349271317*^9, 
  3.707215349973748*^9}},
 CellLabel->"In[57]:=",ExpressionUUID->"564ff60d-2ca5-4d56-8988-5ccb2353b3c1"],

Cell[BoxData[
 GraphicsBox[{
   RasterBox[{{1, 1, 1, 1, 1, 1, 1, 1}, {1, 1, 1, 1, 1, 1, 1, 1}, {1, 1, 1, 1,
     1, 1, 1, 1}, {1, 1, 1, 1, 1, 1, 1, 1}, {1, 1, 1, 1, 1, 1, 1, 1}, {1, 1, 
    1, 1, 1, 1, 1, 1}, {1, 1, 1, 1, 1, 1, 1, 1}, {1, 1, 1, 1, 1, 1, 1, 1}}, {{
    0, 0}, {8, 8}}, {0, 1}], {{
     {GrayLevel[
       NCache[-1 + GoldenRatio, 0.6180339887498949]], 
      StyleBox[
       LineBox[{{{0, 8}, {8, 8}}, {{0, 7}, {8, 7}}, {{0, 6}, {8, 6}}, {{0, 
        5}, {8, 5}}, {{0, 4}, {8, 4}}, {{0, 3}, {8, 3}}, {{0, 2}, {8, 2}}, {{
        0, 1}, {8, 1}}, {{0, 0}, {8, 0}}}],
       Antialiasing->False]}}, {
     {GrayLevel[
       NCache[-1 + GoldenRatio, 0.6180339887498949]], 
      StyleBox[
       LineBox[{{{0, 0}, {0, 8}}, {{1, 0}, {1, 8}}, {{2, 0}, {2, 8}}, {{3, 
        0}, {3, 8}}, {{4, 0}, {4, 8}}, {{5, 0}, {5, 8}}, {{6, 0}, {6, 8}}, {{
        7, 0}, {7, 8}}, {{8, 0}, {8, 8}}}],
       Antialiasing->False]}}}},
  Frame->False,
  FrameLabel->{None, None},
  FrameTicks->{{None, None}, {None, None}},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  Method->{
   "DefaultBoundaryStyle" -> Automatic, "DefaultPlotStyle" -> 
    Automatic}]], "Output",
 CellChangeTimes->{{3.707174818415058*^9, 3.7071748426054564`*^9}, 
   3.707178216054579*^9, 3.707178405289514*^9, 3.707178441695703*^9, 
   3.707178554803322*^9, 3.707179869792142*^9, 3.707179923233243*^9, 
   3.707180010981148*^9, 3.707180074400402*^9, 3.7071809916418047`*^9, 
   3.7071811387964153`*^9, 3.707181286445897*^9, 3.7071818154373703`*^9, {
   3.707182611061337*^9, 3.707182615842186*^9}, 3.707182656394932*^9, {
   3.707182704410643*^9, 3.707182728036153*^9}, 3.707211702327495*^9, 
   3.707211792608857*^9, 3.707213436030665*^9, 3.7072153285181227`*^9, 
   3.707228710995968*^9, 3.707229241511801*^9, 3.70722928682085*^9, 
   3.7072293217587223`*^9, 3.707229358951806*^9, 3.7072293939140587`*^9, 
   3.707229826614895*^9, {3.70725306334606*^9, 3.707253069690436*^9}},
 CellLabel->"Out[58]=",ExpressionUUID->"d431ec43-fab3-44c3-b78f-7df7f7b1e3cc"]
}, Open  ]],

Cell["\<\
Let\[CloseCurlyQuote]s seed the table with a blanket of sand that can be \
stacked 1 to 4 grains high in each cell.\
\>", "Text",
 CellChangeTimes->{{3.700774370934465*^9, 3.700774423028035*^9}, {
  3.707174852543458*^9, 
  3.7071749032379637`*^9}},ExpressionUUID->"04c776ac-58d6-4522-8efc-\
cd5e9938473e"],

Cell["\<\
Let\[CloseCurlyQuote]s represent height with colors so blue corresponds to \
one grain, green to two grains, yellow to three grains, and red to four \
grains:\
\>", "Direction",
 CellChangeTimes->{{3.700774301937366*^9, 3.700774308664962*^9}, {
  3.700774357721336*^9, 3.700774365046776*^9}, {3.70077442733965*^9, 
  3.70077443419691*^9}, {3.707175036708338*^9, 3.707175075749433*^9}, {
  3.707178831160388*^9, 
  3.7071788315132303`*^9}},ExpressionUUID->"6078d336-2492-4e68-aa05-\
c2f172bbd438"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"heightColors", "=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"1.", "\[Rule]", "Blue"}], ",", 
    RowBox[{"2.", "\[Rule]", "Green"}], ",", 
    RowBox[{"3.", "\[Rule]", "Yellow"}], ",", 
    RowBox[{"4.", "\[Rule]", "Red"}]}], "}"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.7071749286774178`*^9, 3.707174932233391*^9}, {
  3.707174966000915*^9, 3.707174977362281*^9}, {3.7071751548911057`*^9, 
  3.707175176000622*^9}, {3.707175996683093*^9, 3.707176018446069*^9}},
 CellLabel->"In[59]:=",ExpressionUUID->"e1fad0c0-fedc-43d8-9111-879cf1cf6386"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"1.`", "\[Rule]", 
    InterpretationBox[
     ButtonBox[
      TooltipBox[
       GraphicsBox[{{
          {GrayLevel[0], RectangleBox[{0, 0}]}}, {
          {GrayLevel[0], RectangleBox[{1, -1}]}}, {
          {RGBColor[0, 0, 1], RectangleBox[{0, -1}, {2, 1}]}}},
        AspectRatio->1,
        Frame->True,
        FrameStyle->RGBColor[0., 0., 0.6666666666666666],
        FrameTicks->None,
        ImageSize->
         Dynamic[{
          Automatic, 1.35 CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
           Magnification]}],
        PlotRangePadding->None],
       "RGBColor[0, 0, 1]"],
      Appearance->None,
      BaseStyle->{},
      BaselinePosition->Baseline,
      ButtonFunction:>With[{Typeset`box$ = EvaluationBox[]}, 
        If[
         Not[
          AbsoluteCurrentValue["Deployed"]], 
         SelectionMove[Typeset`box$, All, Expression]; 
         FrontEnd`Private`$ColorSelectorInitialAlpha = 1; 
         FrontEnd`Private`$ColorSelectorInitialColor = RGBColor[0, 0, 1]; 
         FrontEnd`Private`$ColorSelectorUseMakeBoxes = True; 
         MathLink`CallFrontEnd[
           FrontEnd`AttachCell[Typeset`box$, 
            FrontEndResource["RGBColorValueSelector"], {0, {Left, Bottom}}, {
            Left, Top}, 
            "ClosingActions" -> {
             "SelectionDeparture", "ParentChanged", "EvaluatorQuit"}]]]],
      DefaultBaseStyle->{},
      Evaluator->Automatic,
      Method->"Preemptive"],
     RGBColor[0, 0, 1],
     Editable->False,
     Selectable->False]}], ",", 
   RowBox[{"2.`", "\[Rule]", 
    InterpretationBox[
     ButtonBox[
      TooltipBox[
       GraphicsBox[{{
          {GrayLevel[0], RectangleBox[{0, 0}]}}, {
          {GrayLevel[0], RectangleBox[{1, -1}]}}, {
          {RGBColor[0, 1, 0], RectangleBox[{0, -1}, {2, 1}]}}},
        AspectRatio->1,
        Frame->True,
        FrameStyle->RGBColor[0., 0.6666666666666666, 0.],
        FrameTicks->None,
        ImageSize->
         Dynamic[{
          Automatic, 1.35 CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
           Magnification]}],
        PlotRangePadding->None],
       "RGBColor[0, 1, 0]"],
      Appearance->None,
      BaseStyle->{},
      BaselinePosition->Baseline,
      ButtonFunction:>With[{Typeset`box$ = EvaluationBox[]}, 
        If[
         Not[
          AbsoluteCurrentValue["Deployed"]], 
         SelectionMove[Typeset`box$, All, Expression]; 
         FrontEnd`Private`$ColorSelectorInitialAlpha = 1; 
         FrontEnd`Private`$ColorSelectorInitialColor = RGBColor[0, 1, 0]; 
         FrontEnd`Private`$ColorSelectorUseMakeBoxes = True; 
         MathLink`CallFrontEnd[
           FrontEnd`AttachCell[Typeset`box$, 
            FrontEndResource["RGBColorValueSelector"], {0, {Left, Bottom}}, {
            Left, Top}, 
            "ClosingActions" -> {
             "SelectionDeparture", "ParentChanged", "EvaluatorQuit"}]]]],
      DefaultBaseStyle->{},
      Evaluator->Automatic,
      Method->"Preemptive"],
     RGBColor[0, 1, 0],
     Editable->False,
     Selectable->False]}], ",", 
   RowBox[{"3.`", "\[Rule]", 
    InterpretationBox[
     ButtonBox[
      TooltipBox[
       GraphicsBox[{{
          {GrayLevel[0], RectangleBox[{0, 0}]}}, {
          {GrayLevel[0], RectangleBox[{1, -1}]}}, {
          {RGBColor[1, 1, 0], RectangleBox[{0, -1}, {2, 1}]}}},
        AspectRatio->1,
        Frame->True,
        FrameStyle->RGBColor[0.6666666666666666, 0.6666666666666666, 0.],
        FrameTicks->None,
        ImageSize->
         Dynamic[{
          Automatic, 1.35 CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
           Magnification]}],
        PlotRangePadding->None],
       "RGBColor[1, 1, 0]"],
      Appearance->None,
      BaseStyle->{},
      BaselinePosition->Baseline,
      ButtonFunction:>With[{Typeset`box$ = EvaluationBox[]}, 
        If[
         Not[
          AbsoluteCurrentValue["Deployed"]], 
         SelectionMove[Typeset`box$, All, Expression]; 
         FrontEnd`Private`$ColorSelectorInitialAlpha = 1; 
         FrontEnd`Private`$ColorSelectorInitialColor = RGBColor[1, 1, 0]; 
         FrontEnd`Private`$ColorSelectorUseMakeBoxes = True; 
         MathLink`CallFrontEnd[
           FrontEnd`AttachCell[Typeset`box$, 
            FrontEndResource["RGBColorValueSelector"], {0, {Left, Bottom}}, {
            Left, Top}, 
            "ClosingActions" -> {
             "SelectionDeparture", "ParentChanged", "EvaluatorQuit"}]]]],
      DefaultBaseStyle->{},
      Evaluator->Automatic,
      Method->"Preemptive"],
     RGBColor[1, 1, 0],
     Editable->False,
     Selectable->False]}], ",", 
   RowBox[{"4.`", "\[Rule]", 
    InterpretationBox[
     ButtonBox[
      TooltipBox[
       GraphicsBox[{{
          {GrayLevel[0], RectangleBox[{0, 0}]}}, {
          {GrayLevel[0], RectangleBox[{1, -1}]}}, {
          {RGBColor[1, 0, 0], RectangleBox[{0, -1}, {2, 1}]}}},
        AspectRatio->1,
        Frame->True,
        FrameStyle->RGBColor[0.6666666666666666, 0., 0.],
        FrameTicks->None,
        ImageSize->
         Dynamic[{
          Automatic, 1.35 CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
           Magnification]}],
        PlotRangePadding->None],
       "RGBColor[1, 0, 0]"],
      Appearance->None,
      BaseStyle->{},
      BaselinePosition->Baseline,
      ButtonFunction:>With[{Typeset`box$ = EvaluationBox[]}, 
        If[
         Not[
          AbsoluteCurrentValue["Deployed"]], 
         SelectionMove[Typeset`box$, All, Expression]; 
         FrontEnd`Private`$ColorSelectorInitialAlpha = 1; 
         FrontEnd`Private`$ColorSelectorInitialColor = RGBColor[1, 0, 0]; 
         FrontEnd`Private`$ColorSelectorUseMakeBoxes = True; 
         MathLink`CallFrontEnd[
           FrontEnd`AttachCell[Typeset`box$, 
            FrontEndResource["RGBColorValueSelector"], {0, {Left, Bottom}}, {
            Left, Top}, 
            "ClosingActions" -> {
             "SelectionDeparture", "ParentChanged", "EvaluatorQuit"}]]]],
      DefaultBaseStyle->{},
      Evaluator->Automatic,
      Method->"Preemptive"],
     RGBColor[1, 0, 0],
     Editable->False,
     Selectable->False]}]}], "}"}]], "Output",
 CellChangeTimes->{{3.707174912077804*^9, 3.7071749328558598`*^9}, 
   3.707175019652367*^9, {3.7071751597056713`*^9, 3.707175187494656*^9}, {
   3.7071760048752728`*^9, 3.707176019138298*^9}, 3.70717821617192*^9, 
   3.707178405656618*^9, 3.707178441907679*^9, 3.707178554891942*^9, 
   3.707179869893115*^9, 3.707179923602139*^9, 3.707180011329027*^9, 
   3.707180074728931*^9, 3.707180991740116*^9, 3.707181138908033*^9, 
   3.707181286537784*^9, 3.7071818155416193`*^9, 3.707182615952648*^9, 
   3.707182656480589*^9, {3.707182704513048*^9, 3.7071827281074553`*^9}, 
   3.707211702544738*^9, 3.7072117927000504`*^9, 3.707213436241214*^9, 
   3.7072153286225557`*^9, 3.70722871107725*^9, 3.707229241565537*^9, 
   3.707229286885354*^9, 3.70722932181516*^9, 3.7072293590172653`*^9, 
   3.7072293939790897`*^9, 3.7072298266824207`*^9, {3.707253063444667*^9, 
   3.707253069744009*^9}},
 CellLabel->"Out[59]=",ExpressionUUID->"a3de1016-ec23-410e-984b-744e4a886136"]
}, Open  ]],

Cell["Now let\[CloseCurlyQuote]s blanket the table with sand at random \
heights:", "Direction",
 CellChangeTimes->{{3.700774301937366*^9, 3.700774308664962*^9}, {
  3.700774357721336*^9, 3.700774365046776*^9}, {3.70077442733965*^9, 
  3.70077443419691*^9}, {3.707175036708338*^9, 3.707175075749433*^9}, {
  3.7071752232662973`*^9, 3.707175230325069*^9}, {3.707175262271832*^9, 
  3.707175287268684*^9}, {3.707178820589279*^9, 3.707178829037416*^9}, {
  3.7072532603278427`*^9, 
  3.707253267413336*^9}},ExpressionUUID->"9538ad31-9137-4471-a2bb-\
6d12351af01c"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"sandTable", " ", "=", " ", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"N", "@", 
      RowBox[{"RandomInteger", "[", 
       RowBox[{"{", 
        RowBox[{"1", ",", "4"}], "}"}], "]"}]}], ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", "gridSize"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"j", ",", "1", ",", "gridSize"}], "}"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"ArrayPlot", "[", 
  RowBox[{"sandTable", ",", 
   RowBox[{"ColorRules", "\[Rule]", "heightColors"}], ",", 
   RowBox[{"Mesh", "\[Rule]", " ", "True"}]}], "]"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.707175099797846*^9, 3.7071751847297792`*^9}},
 CellLabel->"In[60]:=",ExpressionUUID->"ad176137-5d51-4cdf-be5a-4dfe5cd8b2cf"],

Cell[BoxData[
 GraphicsBox[{RasterBox[CompressedData["
1:eJxTTMoPSmVmYGDggGIQGwI+2DNgBTBxdHlc4sSahwsQMpeQemq5k1T9uOwl
1z5y9VErPujlL1zytFaPLk6ufbQKH1LNx2Ueuf4mVpzUfEdpeJPrTlLNJVUf
tdI/tfIpLn2Y6gCyX1zj
    "], {{0, 0}, {8, 8}}, {0, 1}], {{
     {GrayLevel[
       NCache[-1 + GoldenRatio, 0.6180339887498949]], 
      StyleBox[
       LineBox[{{{0, 8}, {8, 8}}, {{0, 7}, {8, 7}}, {{0, 6}, {8, 6}}, {{0, 
        5}, {8, 5}}, {{0, 4}, {8, 4}}, {{0, 3}, {8, 3}}, {{0, 2}, {8, 2}}, {{
        0, 1}, {8, 1}}, {{0, 0}, {8, 0}}}],
       Antialiasing->False]}}, {
     {GrayLevel[
       NCache[-1 + GoldenRatio, 0.6180339887498949]], 
      StyleBox[
       LineBox[{{{0, 0}, {0, 8}}, {{1, 0}, {1, 8}}, {{2, 0}, {2, 8}}, {{3, 
        0}, {3, 8}}, {{4, 0}, {4, 8}}, {{5, 0}, {5, 8}}, {{6, 0}, {6, 8}}, {{
        7, 0}, {7, 8}}, {{8, 0}, {8, 8}}}],
       Antialiasing->False]}}}},
  Frame->False,
  FrameLabel->{None, None},
  FrameTicks->{{None, None}, {None, None}},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  Method->{
   "DefaultBoundaryStyle" -> Automatic, "DefaultPlotStyle" -> 
    Automatic}]], "Output",
 CellChangeTimes->{
  3.707179869981428*^9, 3.707179923702413*^9, 3.707180011419981*^9, 
   3.707180074825276*^9, 3.707180991822702*^9, 3.7071811389767723`*^9, 
   3.707181286617087*^9, 3.707181815641789*^9, 3.707182616026325*^9, 
   3.707182656556003*^9, {3.707182704609392*^9, 3.707182728219112*^9}, 
   3.7072117027971363`*^9, 3.707211792774949*^9, 3.707213436338776*^9, 
   3.7072153287189074`*^9, 3.707228711208723*^9, 3.707229241663658*^9, 
   3.70722928695864*^9, 3.707229321913851*^9, 3.7072293590846853`*^9, 
   3.707229394046914*^9, 3.707229826805933*^9, {3.707253063521117*^9, 
   3.7072530698071423`*^9}},
 CellLabel->"Out[61]=",ExpressionUUID->"8d3c6092-73b6-413f-9994-463cb5236309"]
}, Open  ]],

Cell["\<\
Next we will place a grain of sand in a random cell on the table. If that \
cell gets taller than 4 grains of sand it will topple losing 4 grains and \
giving 1 grain to each neighbor that shares an edge.\
\>", "Text",
 CellChangeTimes->{{3.7007745064072313`*^9, 3.700774524893145*^9}, {
  3.707175298254053*^9, 
  3.707175358371648*^9}},ExpressionUUID->"6f41c136-1d08-453e-b0c5-\
50156b3fb753"],

Cell["\<\
First we select a cell, we will distinguish this cell with a white dot:\
\>", "Direction",
 CellChangeTimes->{{3.700774528132448*^9, 3.700774537078189*^9}, {
  3.707175373329319*^9, 3.707175377970969*^9}, {3.707178783711735*^9, 
  3.707178786350095*^9}, {3.7071818551093197`*^9, 
  3.707181872905155*^9}},ExpressionUUID->"b3f6a33e-86a4-4960-8b62-\
98c6c02d6052"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"xy", "=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"RandomChoice", "[", 
     RowBox[{"Range", "[", 
      RowBox[{"1", ",", "gridSize"}], "]"}], "]"}], ",", 
    RowBox[{"RandomChoice", "[", 
     RowBox[{"Range", "[", 
      RowBox[{"1", ",", "gridSize"}], "]"}], "]"}]}], 
   "}"}]}], "\[IndentingNewLine]", 
 RowBox[{"printArray", ":=", 
  RowBox[{"ArrayPlot", "[", 
   RowBox[{"sandTable", ",", 
    RowBox[{"ColorRules", "->", "heightColors"}], ",", 
    RowBox[{"Mesh", "\[Rule]", " ", "True"}], ",", 
    RowBox[{"Epilog", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"White", ",", 
       RowBox[{"Disk", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{
            RowBox[{"xy", "[", 
             RowBox[{"[", "2", "]"}], "]"}], "-", ".5"}], ",", 
           RowBox[{"gridSize", "-", 
            RowBox[{"xy", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "+", ".5"}]}], "}"}], ",", 
         ".2"}], "]"}]}], "}"}]}]}], 
   "]"}]}], "\[IndentingNewLine]", "printArray"}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.707178807053684*^9, 3.707178810174086*^9}},
 CellLabel->"In[62]:=",ExpressionUUID->"8654a732-261c-406f-9d3a-f918919d9ffe"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"8", ",", "8"}], "}"}]], "Output",
 CellChangeTimes->{
  3.7071753703057528`*^9, 3.707178216317892*^9, 3.70717840581824*^9, 
   3.7071784421284933`*^9, 3.707178555056363*^9, 3.70717881424251*^9, 
   3.70717987007554*^9, 3.707179923787421*^9, 3.707180011491233*^9, 
   3.707180074913796*^9, 3.7071809918938293`*^9, 3.707181139041668*^9, 
   3.707181286674659*^9, 3.707181815722796*^9, 3.707182616091502*^9, 
   3.7071826566081543`*^9, {3.7071827046775713`*^9, 3.707182728291039*^9}, 
   3.707211702824794*^9, 3.7072117928436937`*^9, 3.707213436407979*^9, 
   3.7072153288100863`*^9, 3.707228711270447*^9, 3.707229241717206*^9, 
   3.707229287022616*^9, 3.707229321967462*^9, 3.7072293591520433`*^9, 
   3.707229394085216*^9, 3.707229826866345*^9, {3.707253063550509*^9, 
   3.7072530698239202`*^9}},
 CellLabel->"Out[62]=",ExpressionUUID->"0f679b93-66b3-4f3f-8fba-2a276b88710c"],

Cell[BoxData[
 GraphicsBox[{RasterBox[CompressedData["
1:eJxTTMoPSmVmYGDggGIQGwI+2DNgBTBxdHlc4sSahwsQMpeQemq5k1T9uOwl
1z5y9VErPujlL1zytFaPLk6ufbQKH1LNx2Ueuf4mVpzUfEdpeJPrTlLNJVUf
tdI/tfIpLn2Y6gCyX1zj
    "], {{0, 0}, {8, 8}}, {0, 1}], {{
     {GrayLevel[
       NCache[-1 + GoldenRatio, 0.6180339887498949]], 
      StyleBox[
       LineBox[{{{0, 8}, {8, 8}}, {{0, 7}, {8, 7}}, {{0, 6}, {8, 6}}, {{0, 
        5}, {8, 5}}, {{0, 4}, {8, 4}}, {{0, 3}, {8, 3}}, {{0, 2}, {8, 2}}, {{
        0, 1}, {8, 1}}, {{0, 0}, {8, 0}}}],
       Antialiasing->False]}}, {
     {GrayLevel[
       NCache[-1 + GoldenRatio, 0.6180339887498949]], 
      StyleBox[
       LineBox[{{{0, 0}, {0, 8}}, {{1, 0}, {1, 8}}, {{2, 0}, {2, 8}}, {{3, 
        0}, {3, 8}}, {{4, 0}, {4, 8}}, {{5, 0}, {5, 8}}, {{6, 0}, {6, 8}}, {{
        7, 0}, {7, 8}}, {{8, 0}, {8, 8}}}],
       Antialiasing->False]}}}},
  Epilog->{
    GrayLevel[1], 
    DiskBox[{7.5, 0.5}, 0.2]},
  Frame->False,
  FrameLabel->{None, None},
  FrameTicks->{{None, None}, {None, None}},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  Method->{
   "DefaultBoundaryStyle" -> Automatic, "DefaultPlotStyle" -> 
    Automatic}]], "Output",
 CellChangeTimes->{
  3.7071753703057528`*^9, 3.707178216317892*^9, 3.70717840581824*^9, 
   3.7071784421284933`*^9, 3.707178555056363*^9, 3.70717881424251*^9, 
   3.70717987007554*^9, 3.707179923787421*^9, 3.707180011491233*^9, 
   3.707180074913796*^9, 3.7071809918938293`*^9, 3.707181139041668*^9, 
   3.707181286674659*^9, 3.707181815722796*^9, 3.707182616091502*^9, 
   3.7071826566081543`*^9, {3.7071827046775713`*^9, 3.707182728291039*^9}, 
   3.707211702824794*^9, 3.7072117928436937`*^9, 3.707213436407979*^9, 
   3.7072153288100863`*^9, 3.707228711270447*^9, 3.707229241717206*^9, 
   3.707229287022616*^9, 3.707229321967462*^9, 3.7072293591520433`*^9, 
   3.707229394085216*^9, 3.707229826866345*^9, {3.707253063550509*^9, 
   3.707253069854104*^9}},
 CellLabel->"Out[64]=",ExpressionUUID->"4443fa23-5f1f-469e-9cdb-64f1a1797682"]
}, Open  ]],

Cell["\<\
Now we will add a grain of sand to the cell we selected. If this made the \
cell larger than 5 grains tall then the cell will topple and cause an \
avalanche:\
\>", "Direction",
 CellChangeTimes->{{3.700774554822753*^9, 3.700774560088324*^9}, {
  3.7071754700069637`*^9, 3.707175492711507*^9}, {3.707175563495082*^9, 
  3.70717562950439*^9}, {3.707178768774547*^9, 3.707178769273766*^9}, {
  3.707253291046386*^9, 
  3.7072532939754457`*^9}},ExpressionUUID->"dc2b8755-0191-4b45-8338-\
979fdfccba7f"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"addGrain", "[", "xy_List", "]"}], ":=", 
   RowBox[{"sandTable", "=", 
    RowBox[{"ReplacePart", "[", 
     RowBox[{"sandTable", ",", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"xy", "[", 
          RowBox[{"[", "1", "]"}], "]"}], ",", 
         RowBox[{"xy", "[", 
          RowBox[{"[", "2", "]"}], "]"}]}], "}"}], "\[Rule]", " ", 
       RowBox[{
        RowBox[{"sandTable", "[", 
         RowBox[{"[", 
          RowBox[{
           RowBox[{"xy", "[", 
            RowBox[{"[", "1", "]"}], "]"}], ",", 
           RowBox[{"xy", "[", 
            RowBox[{"[", "2", "]"}], "]"}]}], "]"}], "]"}], "+", "1"}]}]}], 
     "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"addGrain", "[", "xy", "]"}], 
  ";"}], "\[IndentingNewLine]", "printArray"}], "Input",
 InitializationCell->True,
 CellChangeTimes->{
  3.707176610071316*^9, {3.707183697412167*^9, 3.707183699823731*^9}},
 CellLabel->"In[65]:=",ExpressionUUID->"6c4df0ad-407d-4ddd-92c4-ee7f16d6eb60"],

Cell[BoxData[
 GraphicsBox[{RasterBox[CompressedData["
1:eJxTTMoPSmVmYGDggGIQGwI+2DNgBTBxdHlc4sSahwsQMheXOdR2J6n6cdlL
rn3k6qNWfNDLX7jkaa0eXZza6Y1Y+6llPi7zyPU3seKk5jtKw5tcd5JqLqn6
qJX+qZVPcenDVAcAu9dc4w==
    "], {{0, 0}, {8, 8}}, {0, 1}], {{
     {GrayLevel[
       NCache[-1 + GoldenRatio, 0.6180339887498949]], 
      StyleBox[
       LineBox[{{{0, 8}, {8, 8}}, {{0, 7}, {8, 7}}, {{0, 6}, {8, 6}}, {{0, 
        5}, {8, 5}}, {{0, 4}, {8, 4}}, {{0, 3}, {8, 3}}, {{0, 2}, {8, 2}}, {{
        0, 1}, {8, 1}}, {{0, 0}, {8, 0}}}],
       Antialiasing->False]}}, {
     {GrayLevel[
       NCache[-1 + GoldenRatio, 0.6180339887498949]], 
      StyleBox[
       LineBox[{{{0, 0}, {0, 8}}, {{1, 0}, {1, 8}}, {{2, 0}, {2, 8}}, {{3, 
        0}, {3, 8}}, {{4, 0}, {4, 8}}, {{5, 0}, {5, 8}}, {{6, 0}, {6, 8}}, {{
        7, 0}, {7, 8}}, {{8, 0}, {8, 8}}}],
       Antialiasing->False]}}}},
  Epilog->{
    GrayLevel[1], 
    DiskBox[{7.5, 0.5}, 0.2]},
  Frame->False,
  FrameLabel->{None, None},
  FrameTicks->{{None, None}, {None, None}},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  Method->{
   "DefaultBoundaryStyle" -> Automatic, "DefaultPlotStyle" -> 
    Automatic}]], "Output",
 CellChangeTimes->{
  3.7071798702571087`*^9, 3.70717992395254*^9, 3.707180011692996*^9, 
   3.70718007511423*^9, 3.707180992067573*^9, 3.7071811391654177`*^9, 
   3.7071812868094807`*^9, 3.707181815897073*^9, 3.707182616210441*^9, 
   3.707182656779804*^9, {3.7071827048411293`*^9, 3.707182728428985*^9}, 
   3.707211702935047*^9, 3.707211793009026*^9, 3.707213436774914*^9, 
   3.707215328981946*^9, 3.7072287114283743`*^9, 3.7072292418476753`*^9, 
   3.707229287174778*^9, 3.707229322101178*^9, 3.7072293592804813`*^9, 
   3.707229394229835*^9, 3.707229826964452*^9, {3.7072530636534853`*^9, 
   3.707253069913522*^9}},
 CellLabel->"Out[67]=",ExpressionUUID->"8654bfdf-a847-46a1-8ec2-fefa19e3215f"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Avalanches and Moving Sand", "Section",
 CellChangeTimes->{{3.700774708350976*^9, 3.700774714085747*^9}, {
  3.707174296330513*^9, 3.707174300518691*^9}, {3.707175748822316*^9, 
  3.707175762912952*^9}},ExpressionUUID->"369d899b-de3c-49b0-b7eb-\
519cb686ffeb"],

Cell["\<\
When a pile gets too tall it passes 1 grain to each neighbor that shares an \
edge.\
\>", "Text",
 CellChangeTimes->{{3.700774370934465*^9, 3.700774423028035*^9}, {
  3.707174852543458*^9, 3.7071749032379637`*^9}, {3.7071758118146152`*^9, 
  3.707175875833514*^9}, {3.7071796529131947`*^9, 
  3.707179652913763*^9}},ExpressionUUID->"9762a70d-47b6-4138-907e-\
abf6013157a9"],

Cell["Here is a tower that is about to topple:", "Direction",
 CellChangeTimes->{{3.707179653419511*^9, 
  3.707179655965996*^9}},ExpressionUUID->"589404f5-64fd-4b3b-9707-\
c45f082fa5b1"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"sandTable", " ", "=", " ", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"N", "@", 
      RowBox[{"RandomInteger", "[", 
       RowBox[{"{", 
        RowBox[{"1", ",", "3"}], "}"}], "]"}]}], ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", "gridSize"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"j", ",", "1", ",", "gridSize"}], "}"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"xy", "=", 
   RowBox[{"{", 
    RowBox[{"2", ",", "3"}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"sandTable", "=", 
   RowBox[{"ReplacePart", "[", 
    RowBox[{"sandTable", ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"xy", "[", 
           RowBox[{"[", "1", "]"}], "]"}], ",", 
          RowBox[{"xy", "[", 
           RowBox[{"[", "2", "]"}], "]"}]}], "}"}], "\[Rule]", " ", "4."}], 
       ",", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{"xy", "[", 
            RowBox[{"[", "1", "]"}], "]"}], "+", "1"}], ",", 
          RowBox[{"xy", "[", 
           RowBox[{"[", "2", "]"}], "]"}]}], "}"}], "\[Rule]", " ", "4."}], 
       ",", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{"xy", "[", 
            RowBox[{"[", "1", "]"}], "]"}], "+", "1"}], ",", 
          RowBox[{
           RowBox[{"xy", "[", 
            RowBox[{"[", "2", "]"}], "]"}], "+", "1"}]}], "}"}], "\[Rule]", 
        " ", "4."}]}], "}"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"addGrain", "[", "xy", "]"}], 
  ";"}], "\[IndentingNewLine]", "printArray"}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.707175932091297*^9, 3.7071759781575527`*^9}, {
  3.707176043114832*^9, 3.707176082286366*^9}, {3.707176194765163*^9, 
  3.707176249033216*^9}, {3.707176817306437*^9, 3.7071768305813637`*^9}, {
  3.707177567191008*^9, 3.707177582321867*^9}, {3.707179513712451*^9, 
  3.707179564616997*^9}, {3.70717961361334*^9, 3.707179626119154*^9}, {
  3.707179681454399*^9, 3.707179691548937*^9}, {3.707179775944034*^9, 
  3.707179776044188*^9}, {3.7071826464197197`*^9, 3.707182651219305*^9}},
 CellLabel->"In[68]:=",ExpressionUUID->"13c5811d-c643-43d7-a0e2-b79261f2e9a8"],

Cell[BoxData[
 GraphicsBox[{RasterBox[CompressedData["
1:eJxTTMoPSmVmYGDggGIQGxV8sMfORxfHpQ+XekLmECtObfNJtZ9YcVLdSar7
aR0OtI5HUu3FZQ6t0ye13UNrcwiZR6o76O0ecuOXWPfQuhygt/mUp2cAOAZp
6A==
    "], {{0, 0}, {8, 8}}, {0, 1}], {{
     {GrayLevel[
       NCache[-1 + GoldenRatio, 0.6180339887498949]], 
      StyleBox[
       LineBox[{{{0, 8}, {8, 8}}, {{0, 7}, {8, 7}}, {{0, 6}, {8, 6}}, {{0, 
        5}, {8, 5}}, {{0, 4}, {8, 4}}, {{0, 3}, {8, 3}}, {{0, 2}, {8, 2}}, {{
        0, 1}, {8, 1}}, {{0, 0}, {8, 0}}}],
       Antialiasing->False]}}, {
     {GrayLevel[
       NCache[-1 + GoldenRatio, 0.6180339887498949]], 
      StyleBox[
       LineBox[{{{0, 0}, {0, 8}}, {{1, 0}, {1, 8}}, {{2, 0}, {2, 8}}, {{3, 
        0}, {3, 8}}, {{4, 0}, {4, 8}}, {{5, 0}, {5, 8}}, {{6, 0}, {6, 8}}, {{
        7, 0}, {7, 8}}, {{8, 0}, {8, 8}}}],
       Antialiasing->False]}}}},
  Epilog->{
    GrayLevel[1], 
    DiskBox[{2.5, 6.5}, 0.2]},
  Frame->False,
  FrameLabel->{None, None},
  FrameTicks->{{None, None}, {None, None}},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  Method->{
   "DefaultBoundaryStyle" -> Automatic, "DefaultPlotStyle" -> 
    Automatic}]], "Output",
 CellChangeTimes->{
  3.7071762494934597`*^9, 3.70717654629417*^9, 3.70717657765644*^9, 
   3.7071766160238132`*^9, 3.707176656585449*^9, 3.707176831575946*^9, {
   3.7071775738991528`*^9, 3.707177582875349*^9}, 3.7071782165581713`*^9, 
   3.707178406026691*^9, 3.707178442467518*^9, 3.70717855540252*^9, 
   3.707179565317895*^9, {3.707179602472262*^9, 3.707179626875115*^9}, {
   3.7071796591094007`*^9, 3.707179702845248*^9}, 3.7071797775645723`*^9, 
   3.707179870336417*^9, 3.707179924036471*^9, 3.707180011777421*^9, 
   3.707180075192521*^9, 3.707180154631016*^9, 3.707180992152828*^9, 
   3.707181139206429*^9, 3.707181286885474*^9, 3.7071818159642887`*^9, 
   3.707182616336735*^9, {3.707182652125856*^9, 3.707182656837796*^9}, {
   3.707182704910995*^9, 3.7071827285079393`*^9}, 3.707211702987801*^9, 
   3.707211793088966*^9, 3.707213437054722*^9, 3.70721532911978*^9, 
   3.7072287115092573`*^9, 3.7072292419151506`*^9, 3.707229287244151*^9, 
   3.7072293221744003`*^9, 3.7072293593567343`*^9, 3.70722939431402*^9, 
   3.7072298270221853`*^9, {3.707253063693097*^9, 3.7072530699492817`*^9}},
 CellLabel->"Out[72]=",ExpressionUUID->"3b89fd0f-fc94-4044-9b85-cfe45c0f55ca"]
}, Open  ]],

Cell["When a cell topples we remove 4 grains from that cell:", "Direction",
 CellChangeTimes->{{3.700774554822753*^9, 3.700774560088324*^9}, {
  3.707175895017067*^9, 3.707175897988942*^9}, {3.7071760614108877`*^9, 
  3.7071760764434977`*^9}, {3.707176120264221*^9, 3.707176148222722*^9}, {
  3.707176299912181*^9, 3.707176316444985*^9}, {3.7071787568558683`*^9, 
  3.7071787574744043`*^9}},ExpressionUUID->"3bf2ae50-589d-4dfb-98e6-\
71bbb3f3496d"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"removeGrains", "[", "xy_List", "]"}], ":=", 
   RowBox[{"sandTable", "=", 
    RowBox[{"ReplacePart", "[", 
     RowBox[{"sandTable", ",", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"xy", "[", 
          RowBox[{"[", "1", "]"}], "]"}], ",", 
         RowBox[{"xy", "[", 
          RowBox[{"[", "2", "]"}], "]"}]}], "}"}], "\[Rule]", " ", 
       RowBox[{
        RowBox[{"sandTable", "[", 
         RowBox[{"[", 
          RowBox[{
           RowBox[{"xy", "[", 
            RowBox[{"[", "1", "]"}], "]"}], ",", 
           RowBox[{"xy", "[", 
            RowBox[{"[", "2", "]"}], "]"}]}], "]"}], "]"}], "-", "4."}]}]}], 
     "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"removeGrains", "[", "xy", "]"}], 
  ";"}], "\[IndentingNewLine]", "printArray"}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.7071761122172318`*^9, 3.70717611239618*^9}, {
   3.7071762889279957`*^9, 3.7071763527729197`*^9}, 3.707176446922099*^9, {
   3.707176537014833*^9, 3.707176538631542*^9}, {3.707176598880228*^9, 
   3.707176598965201*^9}, 3.7071766363496923`*^9, {3.707179673608232*^9, 
   3.707179673865037*^9}},
 CellLabel->"In[73]:=",ExpressionUUID->"bd847728-192a-4731-b840-d11d4c8f6a82"],

Cell[BoxData[
 GraphicsBox[{RasterBox[CompressedData["
1:eJxTTMoPSmVmYGDggGIQGxV8sMfORxfHpQ+XekLmECtObfNJtZ9YcVLdSar7
aR0OtI5HUu3FZQ6t0ye13UNrcwiZR6o76O0eSuOXkHtoXQ7Q23zK0zMAq3xr
Fw==
    "], {{0, 0}, {8, 8}}, {0, 1}], {{
     {GrayLevel[
       NCache[-1 + GoldenRatio, 0.6180339887498949]], 
      StyleBox[
       LineBox[{{{0, 8}, {8, 8}}, {{0, 7}, {8, 7}}, {{0, 6}, {8, 6}}, {{0, 
        5}, {8, 5}}, {{0, 4}, {8, 4}}, {{0, 3}, {8, 3}}, {{0, 2}, {8, 2}}, {{
        0, 1}, {8, 1}}, {{0, 0}, {8, 0}}}],
       Antialiasing->False]}}, {
     {GrayLevel[
       NCache[-1 + GoldenRatio, 0.6180339887498949]], 
      StyleBox[
       LineBox[{{{0, 0}, {0, 8}}, {{1, 0}, {1, 8}}, {{2, 0}, {2, 8}}, {{3, 
        0}, {3, 8}}, {{4, 0}, {4, 8}}, {{5, 0}, {5, 8}}, {{6, 0}, {6, 8}}, {{
        7, 0}, {7, 8}}, {{8, 0}, {8, 8}}}],
       Antialiasing->False]}}}},
  Epilog->{
    GrayLevel[1], 
    DiskBox[{2.5, 6.5}, 0.2]},
  Frame->False,
  FrameLabel->{None, None},
  FrameTicks->{{None, None}, {None, None}},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  Method->{
   "DefaultBoundaryStyle" -> Automatic, "DefaultPlotStyle" -> 
    Automatic}]], "Output",
 CellChangeTimes->{{3.707179674321847*^9, 3.707179706754217*^9}, 
   3.707179782336523*^9, 3.707179870415962*^9, 3.707179924103108*^9, 
   3.7071800118465443`*^9, 3.70718007526094*^9, 3.707180157455863*^9, 
   3.707180992247694*^9, 3.707181139247064*^9, 3.707181286961199*^9, 
   3.707181816032357*^9, 3.707182616438365*^9, 3.707182656872527*^9, {
   3.707182704974455*^9, 3.707182728581724*^9}, 3.707211703351324*^9, 
   3.70721179316424*^9, 3.7072134371727343`*^9, 3.70721532921637*^9, 
   3.707228711593165*^9, 3.7072292419847097`*^9, 3.707229287311428*^9, 
   3.707229322248473*^9, 3.707229359433967*^9, 3.707229394377696*^9, 
   3.707229827085889*^9, {3.707253063732329*^9, 3.707253069989408*^9}},
 CellLabel->"Out[75]=",ExpressionUUID->"e1f9ef48-2b7f-4758-917e-0864fd0d0eb3"]
}, Open  ]],

Cell["\<\
Each cell effected by this avalanche is marked with a black dot:\
\>", "Direction",
 CellChangeTimes->{{3.700774554822753*^9, 3.700774560088324*^9}, {
  3.707175895017067*^9, 3.707175897988942*^9}, {3.7071760614108877`*^9, 
  3.7071760764434977`*^9}, {3.707176120264221*^9, 3.707176148222722*^9}, {
  3.707176299912181*^9, 3.707176316444985*^9}, {3.7071769278202963`*^9, 
  3.7071769331051273`*^9}, {3.707177052790616*^9, 3.7071770689037113`*^9}, {
  3.7071787405050697`*^9, 
  3.7071787476376123`*^9}},ExpressionUUID->"49358a6d-6654-4fa3-8f1f-\
1fdc3a40e1e6"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"neighbors", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        RowBox[{"xy", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "-", "1"}], ",", 
       RowBox[{"xy", "[", 
        RowBox[{"[", "2", "]"}], "]"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        RowBox[{"xy", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "+", "1"}], ",", 
       RowBox[{"xy", "[", 
        RowBox[{"[", "2", "]"}], "]"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"xy", "[", 
        RowBox[{"[", "1", "]"}], "]"}], ",", 
       RowBox[{
        RowBox[{"xy", "[", 
         RowBox[{"[", "2", "]"}], "]"}], "-", "1"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"xy", "[", 
        RowBox[{"[", "1", "]"}], "]"}], ",", 
       RowBox[{
        RowBox[{"xy", "[", 
         RowBox[{"[", "2", "]"}], "]"}], "+", "1"}]}], "}"}]}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"addGrain", "/@", "neighbors"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"colorBlack", "=", 
   RowBox[{"Join", "[", 
    RowBox[{
     RowBox[{"{", "xy", "}"}], ",", "neighbors"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"ArrayPlot", "[", 
  RowBox[{"sandTable", ",", 
   RowBox[{"ColorRules", "\[Rule]", "heightColors"}], ",", 
   RowBox[{"Mesh", "\[Rule]", " ", "True"}], ",", 
   RowBox[{"Epilog", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"PointSize", "[", "Large", "]"}], ",", 
      RowBox[{"Point", "[", 
       RowBox[{"DeleteDuplicates", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"(", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"#2", "-", ".5"}], ",", 
             RowBox[{"gridSize", "+", ".5", "-", "#1"}]}], "}"}], ")"}], 
          "&"}], "@@@", "colorBlack"}], "]"}], "]"}]}], "}"}]}]}], 
  "]"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.707176698430373*^9, 3.707176728563905*^9}, {
   3.707176856305661*^9, 3.7071768944028273`*^9}, {3.707176942427251*^9, 
   3.707177042065083*^9}, {3.707178431006917*^9, 3.7071784333896646`*^9}, 
   3.707179735882289*^9, {3.7071818976614017`*^9, 3.707181912985106*^9}},
 CellLabel->"In[76]:=",ExpressionUUID->"b580f0d5-2a34-4267-bb3e-6bb4e11c407d"],

Cell[BoxData[
 GraphicsBox[{RasterBox[CompressedData["
1:eJxTTMoPSmVmYGDggGIQGxV8sMfORxfHpQ+XekLmECtObfNJtZ9YcVLdSar7
aR0OtI5HUu3FZQ6t0ye13UNrcwiZRwgQm66p7R5C4U8IkJt+iJUnNd6INZ/W
4UZYHAAb52no
    "], {{0, 0}, {8, 8}}, {0, 1}], {{
     {GrayLevel[
       NCache[-1 + GoldenRatio, 0.6180339887498949]], 
      StyleBox[
       LineBox[{{{0, 8}, {8, 8}}, {{0, 7}, {8, 7}}, {{0, 6}, {8, 6}}, {{0, 
        5}, {8, 5}}, {{0, 4}, {8, 4}}, {{0, 3}, {8, 3}}, {{0, 2}, {8, 2}}, {{
        0, 1}, {8, 1}}, {{0, 0}, {8, 0}}}],
       Antialiasing->False]}}, {
     {GrayLevel[
       NCache[-1 + GoldenRatio, 0.6180339887498949]], 
      StyleBox[
       LineBox[{{{0, 0}, {0, 8}}, {{1, 0}, {1, 8}}, {{2, 0}, {2, 8}}, {{3, 
        0}, {3, 8}}, {{4, 0}, {4, 8}}, {{5, 0}, {5, 8}}, {{6, 0}, {6, 8}}, {{
        7, 0}, {7, 8}}, {{8, 0}, {8, 8}}}],
       Antialiasing->False]}}}},
  Epilog->{
    PointSize[Large], 
    PointBox[{{2.5, 6.5}, {2.5, 7.5}, {2.5, 5.5}, {1.5, 6.5}, {3.5, 6.5}}]},
  Frame->False,
  FrameLabel->{None, None},
  FrameTicks->{{None, None}, {None, None}},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  Method->{
   "DefaultBoundaryStyle" -> Automatic, "DefaultPlotStyle" -> 
    Automatic}]], "Output",
 CellChangeTimes->{{3.707176721052882*^9, 3.707176758321351*^9}, {
   3.7071768670880737`*^9, 3.7071768952917137`*^9}, {3.7071769802109528`*^9, 
   3.707177033166009*^9}, 3.707178216747902*^9, 3.707178406227522*^9, 
   3.7071784427209797`*^9, 3.707178555672866*^9, {3.707179726436681*^9, 
   3.707179736480585*^9}, 3.707179785642111*^9, 3.7071798704884167`*^9, 
   3.707179924170704*^9, 3.707180011912003*^9, 3.707180075328479*^9, 
   3.70718016144411*^9, 3.70718099232607*^9, 3.707181139288804*^9, 
   3.707181287049828*^9, 3.707181816101516*^9, 3.7071826167194033`*^9, 
   3.707182656910839*^9, {3.707182705035739*^9, 3.7071827286668463`*^9}, 
   3.707211704221608*^9, 3.707211793239299*^9, 3.707213437243195*^9, 
   3.707215329379341*^9, 3.707228711844101*^9, 3.707229242052347*^9, 
   3.707229287387731*^9, 3.7072293223225*^9, 3.7072293595052233`*^9, 
   3.70722939444711*^9, 3.707229827167386*^9, {3.707253063771785*^9, 
   3.707253070048761*^9}},
 CellLabel->"Out[79]=",ExpressionUUID->"cc1e3062-4a5f-41bd-8c4f-418f0f392c99"]
}, Open  ]],

Cell["\<\
If this transfer of sand makes a cell taller than four grains then that cell \
will also topple, continuing the avalanche.\
\>", "Text",
 CellChangeTimes->{{3.700774370934465*^9, 3.700774423028035*^9}, {
  3.707174852543458*^9, 3.7071749032379637`*^9}, {3.7071758118146152`*^9, 
  3.707175875833514*^9}, {3.7071771083476954`*^9, 3.7071771754593353`*^9}, {
  3.7071776082789373`*^9, 3.707177621852748*^9}, {3.7071829752171717`*^9, 
  3.707182995564885*^9}},ExpressionUUID->"66f0539f-5b8f-4be2-b3a9-\
8c5147a502e8"],

Cell["Here we define the avalanche sequence:", "Direction",
 CellChangeTimes->{{3.700774554822753*^9, 3.700774560088324*^9}, {
  3.707175895017067*^9, 3.707175897988942*^9}, {3.7071760614108877`*^9, 
  3.7071760764434977`*^9}, {3.707176120264221*^9, 3.707176148222722*^9}, {
  3.707176299912181*^9, 3.707176316444985*^9}, {3.7071769278202963`*^9, 
  3.7071769331051273`*^9}, {3.707177052790616*^9, 3.7071770689037113`*^9}, {
  3.7071784965476007`*^9, 3.707178509266494*^9}, {3.707178737768907*^9, 
  3.707178738228335*^9}},ExpressionUUID->"57d5366c-2f91-4112-a78a-\
eb8f93b84cdd"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"animateList", "=", 
   RowBox[{"{", "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"n", ":=", "0"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"avalanche", "[", "xy_", "]"}], "/;", 
   RowBox[{
    RowBox[{"sandTable", "[", 
     RowBox[{"[", 
      RowBox[{
       RowBox[{"xy", "[", 
        RowBox[{"[", "1", "]"}], "]"}], ",", 
       RowBox[{"xy", "[", 
        RowBox[{"[", "2", "]"}], "]"}]}], "]"}], "]"}], ">", "4."}]}], ":=", 
  RowBox[{"(", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"n", "=", 
     RowBox[{"n", "+", "1"}]}], ";", "\[IndentingNewLine]", 
    RowBox[{"neighbors", "=", 
     RowBox[{"Cases", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{
            RowBox[{"xy", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "-", "1"}], ",", 
           RowBox[{"xy", "[", 
            RowBox[{"[", "2", "]"}], "]"}]}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{
            RowBox[{"xy", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "+", "1"}], ",", 
           RowBox[{"xy", "[", 
            RowBox[{"[", "2", "]"}], "]"}]}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"xy", "[", 
            RowBox[{"[", "1", "]"}], "]"}], ",", 
           RowBox[{
            RowBox[{"xy", "[", 
             RowBox[{"[", "2", "]"}], "]"}], "-", "1"}]}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"xy", "[", 
            RowBox[{"[", "1", "]"}], "]"}], ",", 
           RowBox[{
            RowBox[{"xy", "[", 
             RowBox[{"[", "2", "]"}], "]"}], "+", "1"}]}], "}"}]}], "}"}], 
       ",", 
       RowBox[{
        RowBox[{
         RowBox[{"{", 
          RowBox[{"x_", ",", "y_"}], "}"}], "/;", 
         RowBox[{"0", "<", "x", "<=", "gridSize"}]}], "/;", 
        RowBox[{"0", "<", "y", "<=", "gridSize"}]}]}], "]"}]}], ";", 
    "\[IndentingNewLine]", 
    RowBox[{"colorBlack", "=", 
     RowBox[{"Join", "[", 
      RowBox[{"colorBlack", ",", "neighbors"}], "]"}]}], ";", 
    "\[IndentingNewLine]", 
    RowBox[{"removeGrains", "[", "xy", "]"}], ";", "\[IndentingNewLine]", 
    RowBox[{"addGrain", "/@", "neighbors"}], ";", "\[IndentingNewLine]", 
    RowBox[{"temp", "=", 
     RowBox[{"ArrayPlot", "[", 
      RowBox[{"sandTable", ",", 
       RowBox[{"ColorRules", "\[Rule]", "heightColors"}], ",", 
       RowBox[{"Mesh", "\[Rule]", " ", "True"}], ",", 
       RowBox[{"Epilog", "\[Rule]", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"PointSize", "[", "Large", "]"}], ",", 
          RowBox[{"Point", "[", 
           RowBox[{"DeleteDuplicates", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"(", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"#2", "-", ".5"}], ",", 
                 RowBox[{"gridSize", "+", ".5", "-", "#1"}]}], "}"}], ")"}], 
              "&"}], "@@@", "colorBlack"}], "]"}], "]"}]}], "}"}]}]}], 
      "]"}]}], ";", "\[IndentingNewLine]", 
    RowBox[{"AppendTo", "[", 
     RowBox[{"animateList", ",", "temp"}], "]"}], ";", "\[IndentingNewLine]", 
    RowBox[{"avalanche", "/@", "neighbors"}], ";"}], ")"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.707177209145792*^9, 3.707177211780567*^9}, {
  3.707177320729527*^9, 3.707177321906739*^9}, {3.70717763002339*^9, 
  3.7071776311267033`*^9}, {3.707177731617919*^9, 3.707177737452615*^9}, {
  3.7071782665035257`*^9, 3.707178271128252*^9}, {3.707178464850122*^9, 
  3.7071784871329737`*^9}, {3.7071799858253813`*^9, 3.70717999093828*^9}},
 CellLabel->"In[80]:=",ExpressionUUID->"ebebe772-4434-4baa-ab62-d767003f91a0"],

Cell["\<\
Let\[CloseCurlyQuote]s see what happens as we let the avalanches die down in \
this trial:\
\>", "Direction",
 CellChangeTimes->{{3.700774554822753*^9, 3.700774560088324*^9}, {
  3.707175895017067*^9, 3.707175897988942*^9}, {3.7071760614108877`*^9, 
  3.7071760764434977`*^9}, {3.707176120264221*^9, 3.707176148222722*^9}, {
  3.707176299912181*^9, 3.707176316444985*^9}, {3.7071769278202963`*^9, 
  3.7071769331051273`*^9}, {3.707177052790616*^9, 3.7071770689037113`*^9}, {
  3.7071787405050697`*^9, 3.7071787476376123`*^9}, {3.707179817714192*^9, 
  3.707179843873695*^9}},ExpressionUUID->"a412849e-c081-4540-b76a-\
8c533bdcbbd1"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"avalanche", "[", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"xy", "[", 
       RowBox[{"[", "1", "]"}], "]"}], "+", "1"}], ",", 
     RowBox[{"xy", "[", 
      RowBox[{"[", "2", "]"}], "]"}]}], "}"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Print", "/@", "animateList"}], ";"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.707179742432873*^9, 3.707179746941105*^9}, {
   3.707179807818479*^9, 3.707179809908486*^9}, 3.7071798492384167`*^9, {
   3.707179905389077*^9, 3.707179909068111*^9}, {3.707179994686194*^9, 
   3.707179995930727*^9}, {3.707180204499578*^9, 3.707180215559712*^9}, 
   3.707180283237702*^9, 3.70718269825165*^9},
 CellLabel->"In[83]:=",ExpressionUUID->"2d447556-fc2e-4670-ad72-dcbaac67ff6c"],

Cell[CellGroupData[{

Cell[BoxData[
 GraphicsBox[{RasterBox[CompressedData["
1:eJxTTMoPSmVmYGDggGIQGxV8sMfORxfHpQ+XekLmECtObfNJtZ9YcVLdSar7
aR0OtI5HUu3FZQ6t0yet4xGXOK3jkVLzyNVPiE9IHbHmDlQ5QGk4kKqe8vQJ
AAIHbEY=
    "], {{0, 0}, {8, 8}}, {0, 1}], {{
     {GrayLevel[
       NCache[-1 + GoldenRatio, 0.6180339887498949]], 
      StyleBox[
       LineBox[{{{0, 8}, {8, 8}}, {{0, 7}, {8, 7}}, {{0, 6}, {8, 6}}, {{0, 
        5}, {8, 5}}, {{0, 4}, {8, 4}}, {{0, 3}, {8, 3}}, {{0, 2}, {8, 2}}, {{
        0, 1}, {8, 1}}, {{0, 0}, {8, 0}}}],
       Antialiasing->False]}}, {
     {GrayLevel[
       NCache[-1 + GoldenRatio, 0.6180339887498949]], 
      StyleBox[
       LineBox[{{{0, 0}, {0, 8}}, {{1, 0}, {1, 8}}, {{2, 0}, {2, 8}}, {{3, 
        0}, {3, 8}}, {{4, 0}, {4, 8}}, {{5, 0}, {5, 8}}, {{6, 0}, {6, 8}}, {{
        7, 0}, {7, 8}}, {{8, 0}, {8, 8}}}],
       Antialiasing->False]}}}},
  Epilog->{
    PointSize[Large], 
    PointBox[{{2.5, 6.5}, {2.5, 7.5}, {2.5, 5.5}, {1.5, 6.5}, {3.5, 6.5}, {
     2.5, 4.5}, {1.5, 5.5}, {3.5, 5.5}}]},
  Frame->False,
  FrameLabel->{None, None},
  FrameTicks->{{None, None}, {None, None}},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  Method->{
   "DefaultBoundaryStyle" -> Automatic, "DefaultPlotStyle" -> 
    Automatic}]], "Print",
 CellChangeTimes->{{3.7071826999325447`*^9, 3.70718272878161*^9}, 
   3.707211704456771*^9, 3.707211793360737*^9, 3.7072134373794537`*^9, 
   3.7072153295274267`*^9, 3.707228712084725*^9, 3.707229242167096*^9, 
   3.7072292875207777`*^9, 3.7072293224423113`*^9, 3.7072293596079187`*^9, 
   3.707229394563909*^9, 3.707229827276589*^9, {3.707253063873693*^9, 
   3.707253070149584*^9}},
 CellLabel->
  "During evaluation of \
In[83]:=",ExpressionUUID->"9755e6db-fb26-45b7-9479-ac4979a5a75f"],

Cell[BoxData[
 GraphicsBox[{RasterBox[CompressedData["
1:eJxTTMoPSmVmYGDggGIQGxV8sMfORxfHpQ+XekLmECtObfNJtZ9YcVLdSar7
aR0OtI5HUu3FZQ6t0ye54oTcQUic1vFIrjmE1BErT6vwpLY7SRWntXupn24B
lrZp6A==
    "], {{0, 0}, {8, 8}}, {0, 1}], {{
     {GrayLevel[
       NCache[-1 + GoldenRatio, 0.6180339887498949]], 
      StyleBox[
       LineBox[{{{0, 8}, {8, 8}}, {{0, 7}, {8, 7}}, {{0, 6}, {8, 6}}, {{0, 
        5}, {8, 5}}, {{0, 4}, {8, 4}}, {{0, 3}, {8, 3}}, {{0, 2}, {8, 2}}, {{
        0, 1}, {8, 1}}, {{0, 0}, {8, 0}}}],
       Antialiasing->False]}}, {
     {GrayLevel[
       NCache[-1 + GoldenRatio, 0.6180339887498949]], 
      StyleBox[
       LineBox[{{{0, 0}, {0, 8}}, {{1, 0}, {1, 8}}, {{2, 0}, {2, 8}}, {{3, 
        0}, {3, 8}}, {{4, 0}, {4, 8}}, {{5, 0}, {5, 8}}, {{6, 0}, {6, 8}}, {{
        7, 0}, {7, 8}}, {{8, 0}, {8, 8}}}],
       Antialiasing->False]}}}},
  Epilog->{
    PointSize[Large], 
    PointBox[{{2.5, 6.5}, {2.5, 7.5}, {2.5, 5.5}, {1.5, 6.5}, {3.5, 6.5}, {
     2.5, 4.5}, {1.5, 5.5}, {3.5, 5.5}, {3.5, 4.5}, {4.5, 5.5}}]},
  Frame->False,
  FrameLabel->{None, None},
  FrameTicks->{{None, None}, {None, None}},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  Method->{
   "DefaultBoundaryStyle" -> Automatic, "DefaultPlotStyle" -> 
    Automatic}]], "Print",
 CellChangeTimes->{{3.7071826999325447`*^9, 3.70718272878161*^9}, 
   3.707211704456771*^9, 3.707211793360737*^9, 3.7072134373794537`*^9, 
   3.7072153295274267`*^9, 3.707228712084725*^9, 3.707229242167096*^9, 
   3.7072292875207777`*^9, 3.7072293224423113`*^9, 3.7072293596079187`*^9, 
   3.707229394563909*^9, 3.707229827276589*^9, {3.707253063873693*^9, 
   3.707253070161922*^9}},
 CellLabel->
  "During evaluation of \
In[83]:=",ExpressionUUID->"1cdfe2ab-e2d8-49fd-aff6-c2354f07e5f6"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Running the Model", "Section",
 CellChangeTimes->{{3.700774708350976*^9, 3.700774714085747*^9}, {
  3.707174296330513*^9, 3.707174300518691*^9}, {3.707175748822316*^9, 
  3.707175762912952*^9}, {3.707177677850972*^9, 
  3.707177681164119*^9}},ExpressionUUID->"e0bbb09e-7f08-49ff-a9c8-\
cacd3fb3f34b"],

Cell["\<\
Let\[CloseCurlyQuote]s call the whole process of adding a grain of sand and \
letting all avalanches die down a \[OpenCurlyDoubleQuote]step\
\[CloseCurlyDoubleQuote].\
\>", "Text",
 CellChangeTimes->{{3.700774370934465*^9, 3.700774423028035*^9}, {
  3.707174852543458*^9, 3.7071749032379637`*^9}, {3.7071758118146152`*^9, 
  3.707175875833514*^9}, {3.7071771083476954`*^9, 3.7071771754593353`*^9}, {
  3.7071776082789373`*^9, 3.707177621852748*^9}, {3.7071776949762487`*^9, 
  3.7071777038562183`*^9}, {3.707177758151053*^9, 3.707177823241349*^9}, {
  3.707178133803056*^9, 3.707178134257214*^9}, {3.707183022403574*^9, 
  3.707183031271925*^9}},ExpressionUUID->"bf5fbfd7-5432-4d8c-9422-\
36be18c77b17"],

Cell["Let\[CloseCurlyQuote]s recap the process of taking a step:", "Direction",
 CellChangeTimes->{{3.700774554822753*^9, 3.700774560088324*^9}, {
  3.707175895017067*^9, 3.707175897988942*^9}, {3.7071760614108877`*^9, 
  3.7071760764434977`*^9}, {3.707176120264221*^9, 3.707176148222722*^9}, {
  3.707176299912181*^9, 3.707176316444985*^9}, {3.7071769278202963`*^9, 
  3.7071769331051273`*^9}, {3.707177052790616*^9, 3.7071770689037113`*^9}, {
  3.7071784965476007`*^9, 3.707178509266494*^9}, {3.7071785933689413`*^9, 
  3.7071786446850853`*^9}, {3.707182902953354*^9, 
  3.707182932787572*^9}},ExpressionUUID->"89d1ca40-0109-416c-947b-\
ce90ec831299"],

Cell[BoxData[
 RowBox[{"takeStep", ":=", 
  RowBox[{"(", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"xy", "=", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"RandomChoice", "[", 
        RowBox[{"Range", "[", 
         RowBox[{"1", ",", "gridSize"}], "]"}], "]"}], ",", 
       RowBox[{"RandomChoice", "[", 
        RowBox[{"Range", "[", 
         RowBox[{"1", ",", "gridSize"}], "]"}], "]"}]}], "}"}]}], ";", " ", 
    RowBox[{"(*", 
     RowBox[{"We", " ", "select", " ", "a", " ", "random", " ", "cell"}], 
     "*)"}], "\[IndentingNewLine]", 
    RowBox[{"addGrain", "[", "xy", "]"}], ";", 
    RowBox[{"(*", 
     RowBox[{"We", " ", "add", " ", "a", " ", "grain"}], "*)"}], 
    "\[IndentingNewLine]", 
    RowBox[{"AppendTo", "[", 
     RowBox[{"animateList", ",", "printArray"}], "]"}], ";", 
    "\[IndentingNewLine]", 
    RowBox[{"colorBlack", ":=", 
     RowBox[{"{", "xy", "}"}]}], ";", "\[IndentingNewLine]", 
    RowBox[{"n", ":=", "0"}], ";", "\[IndentingNewLine]", 
    RowBox[{"avalanche", "[", "xy", "]"}], ";", 
    RowBox[{"(*", 
     RowBox[{
     "We", " ", "let", " ", "all", " ", "the", " ", "avalanches", " ", "run", 
      " ", "until", " ", "the", " ", "sandpile", " ", "is", " ", "still"}], 
     "*)"}], "\[IndentingNewLine]", 
    RowBox[{"Return", "[", "n", "]"}], ";"}], "\[IndentingNewLine]", 
   ")"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.7071778318007917`*^9, 3.7071778824309*^9}},
 CellLabel->"In[85]:=",ExpressionUUID->"3fe5c8d8-86a9-474c-9101-ca5d412ac9ce"],

Cell["\<\
Now that we have encapsulated the process of taking a step, let\
\[CloseCurlyQuote]s take a whole bunch and watch what happens to the pile:\
\>", "Direction",
 CellChangeTimes->{{3.700774554822753*^9, 3.700774560088324*^9}, {
  3.707175895017067*^9, 3.707175897988942*^9}, {3.7071760614108877`*^9, 
  3.7071760764434977`*^9}, {3.707176120264221*^9, 3.707176148222722*^9}, {
  3.707176299912181*^9, 3.707176316444985*^9}, {3.7071769278202963`*^9, 
  3.7071769331051273`*^9}, {3.707177052790616*^9, 3.7071770689037113`*^9}, {
  3.7071784965476007`*^9, 3.707178509266494*^9}, {3.7071785933689413`*^9, 
  3.7071786446850853`*^9}, {3.707182902953354*^9, 
  3.7071829033226*^9}},ExpressionUUID->"9571de69-fc1f-4f3f-8b03-88d74d61f141"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"numberOfTrials", " ", "=", "1000"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"sandTable", " ", "=", " ", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"N", "@", 
      RowBox[{"RandomInteger", "[", 
       RowBox[{"{", 
        RowBox[{"1", ",", "4"}], "}"}], "]"}]}], ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", "gridSize"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"j", ",", "1", ",", "gridSize"}], "}"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"run", "=", 
   RowBox[{"{", "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"animateList", " ", "=", 
   RowBox[{"{", "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Do", "[", 
   RowBox[{
    RowBox[{"AppendTo", "[", 
     RowBox[{"run", ",", "takeStep"}], "]"}], ",", "numberOfTrials"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"ListAnimate", "[", 
  RowBox[{"animateList", ",", "3"}], "]"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.707177394640567*^9, 3.707177424769464*^9}, {
   3.707177475333993*^9, 3.7071774784242163`*^9}, {3.707178007655437*^9, 
   3.7071780079331703`*^9}, {3.707178076006769*^9, 3.707178076925902*^9}, {
   3.707178151350554*^9, 3.707178155211471*^9}, {3.707178284399699*^9, 
   3.707178285008524*^9}, {3.707178574850616*^9, 3.707178575432248*^9}, {
   3.707179116671342*^9, 3.707179116747889*^9}, {3.707180350988665*^9, 
   3.707180351765153*^9}, {3.7071809900224648`*^9, 3.7071809901644506`*^9}, {
   3.707181153863997*^9, 3.707181154165483*^9}, {3.7071819261329613`*^9, 
   3.7071819427070293`*^9}, {3.707182597172867*^9, 3.707182600196073*^9}, {
   3.7071827202428493`*^9, 3.707182721465418*^9}, 3.707183666548895*^9, {
   3.707211789703615*^9, 3.707211790438026*^9}, {3.707229203108491*^9, 
   3.707229234516428*^9}, {3.707229320321787*^9, 3.707229320920649*^9}, {
   3.7072293887215776`*^9, 3.707229388850046*^9}, {3.707229815370579*^9, 
   3.7072298156429873`*^9}, {3.707253079047394*^9, 3.707253081765338*^9}},
 CellLabel->"In[86]:=",ExpressionUUID->"154426e8-a56b-4fc1-b537-12c3647f7943"],

Cell[BoxData[
 TagBox[
  StyleBox[
   DynamicModuleBox[{$CellContext`i7$$ = 6, Typeset`show$$ = True, 
    Typeset`bookmarkList$$ = {
    "\"min\"" :> {$CellContext`i7$$ = 1}, 
     "\"max\"" :> {$CellContext`i7$$ = 15}}, Typeset`bookmarkMode$$ = "Menu", 
    Typeset`animator$$, Typeset`animvar$$ = 1, Typeset`name$$ = 
    "\"untitled\"", Typeset`specs$$ = {{{
       Hold[$CellContext`i7$$], 1, ""}, 1, 15, 1}}, Typeset`size$$ = 
    Automatic, Typeset`update$$ = 0, Typeset`initDone$$, 
    Typeset`skipInitDone$$ = True, $CellContext`i7$8286$$ = 0}, 
    PaneBox[
     PanelBox[
      DynamicWrapperBox[GridBox[{
         {
          ItemBox[
           ItemBox[
            TagBox[
             StyleBox[GridBox[{
                {"\<\"\"\>", 
                 AnimatorBox[Dynamic[$CellContext`i7$$], {1, 15, 1},
                  AnimationRate->3,
                  AnimationRunTime->278.5675792694092,
                  AnimationTimeIndex->1.6798559824634083`,
                  
                  AppearanceElements->{
                   "ProgressSlider", "PlayPauseButton", "FasterSlowerButtons",
                     "DirectionButton"},
                  AutoAction->False,
                  DisplayAllSteps->True]}
               },
               AutoDelete->False,
               
               GridBoxAlignment->{
                "Columns" -> {Right, {Left}}, "ColumnsIndexed" -> {}, 
                 "Rows" -> {{Baseline}}, "RowsIndexed" -> {}},
               
               GridBoxItemSize->{
                "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}], 
              "ListAnimateLabel",
              StripOnInput->False],
             {"ControlArea", Top}],
            Alignment->{Automatic, Inherited},
            StripOnInput->False],
           Background->None,
           StripOnInput->False]},
         {
          ItemBox[
           TagBox[
            StyleBox[
             PaneBox[
              TagBox[
               PaneSelectorBox[{1->
                GraphicsBox[{RasterBox[CompressedData["
1:eJxTTMoPSmVmYGDggGIQGwI+2KPSuAC6PCE+seYTay+13EmqOkLqSTUHl35S
zafUPYPNXlz6SE035MYLqe4ZbOmHXHl6mU+rfEup+dRKh7TOj4TcR7o5AKDp
aLk=
                   "], {{0, 0}, {8, 8}}, {0, 1}], {{
                    {GrayLevel[
                    NCache[-1 + GoldenRatio, 0.6180339887498949]], 
                    
                    StyleBox[
                    LineBox[{{{0, 8}, {8, 8}}, {{0, 7}, {8, 7}}, {{0, 6}, {8, 
                    6}}, {{0, 5}, {8, 5}}, {{0, 4}, {8, 4}}, {{0, 3}, {8, 
                    3}}, {{0, 2}, {8, 2}}, {{0, 1}, {8, 1}}, {{0, 0}, {8, 
                    0}}}],
                    Antialiasing->False]}}, {
                    {GrayLevel[
                    NCache[-1 + GoldenRatio, 0.6180339887498949]], 
                    
                    StyleBox[
                    LineBox[{{{0, 0}, {0, 8}}, {{1, 0}, {1, 8}}, {{2, 0}, {2, 
                    8}}, {{3, 0}, {3, 8}}, {{4, 0}, {4, 8}}, {{5, 0}, {5, 
                    8}}, {{6, 0}, {6, 8}}, {{7, 0}, {7, 8}}, {{8, 0}, {8, 
                    8}}}],
                    Antialiasing->False]}}}},
                 Epilog->{
                   GrayLevel[1], 
                   DiskBox[{1.5, 6.5}, 0.2]},
                 Frame->False,
                 FrameLabel->{None, None},
                 FrameTicks->{{None, None}, {None, None}},
                 GridLinesStyle->Directive[
                   GrayLevel[0.5, 0.4]],
                 
                 Method->{
                  "DefaultBoundaryStyle" -> Automatic, "DefaultPlotStyle" -> 
                   Automatic}], 2->
                GraphicsBox[{RasterBox[CompressedData["
1:eJxTTMoPSmVmYGDggGIQGwI+2KPSuAC6PCE+seYTay+13EmqOkLqSTUHl35S
zafUPYPNXlz6SE039HLPYEs/5MrTy3xa5VtKzadWOqR1fiTkPtLNAQAmzGno

                   "], {{0, 0}, {8, 8}}, {0, 1}], {{
                    {GrayLevel[
                    NCache[-1 + GoldenRatio, 0.6180339887498949]], 
                    
                    StyleBox[
                    LineBox[{{{0, 8}, {8, 8}}, {{0, 7}, {8, 7}}, {{0, 6}, {8, 
                    6}}, {{0, 5}, {8, 5}}, {{0, 4}, {8, 4}}, {{0, 3}, {8, 
                    3}}, {{0, 2}, {8, 2}}, {{0, 1}, {8, 1}}, {{0, 0}, {8, 
                    0}}}],
                    Antialiasing->False]}}, {
                    {GrayLevel[
                    NCache[-1 + GoldenRatio, 0.6180339887498949]], 
                    
                    StyleBox[
                    LineBox[{{{0, 0}, {0, 8}}, {{1, 0}, {1, 8}}, {{2, 0}, {2, 
                    8}}, {{3, 0}, {3, 8}}, {{4, 0}, {4, 8}}, {{5, 0}, {5, 
                    8}}, {{6, 0}, {6, 8}}, {{7, 0}, {7, 8}}, {{8, 0}, {8, 
                    8}}}],
                    Antialiasing->False]}}}},
                 Epilog->{
                   GrayLevel[1], 
                   DiskBox[{0.5, 4.5}, 0.2]},
                 Frame->False,
                 FrameLabel->{None, None},
                 FrameTicks->{{None, None}, {None, None}},
                 GridLinesStyle->Directive[
                   GrayLevel[0.5, 0.4]],
                 
                 Method->{
                  "DefaultBoundaryStyle" -> Automatic, "DefaultPlotStyle" -> 
                   Automatic}], 3->
                GraphicsBox[{RasterBox[CompressedData["
1:eJxTTMoPSmVmYGDggGIQGwI+2KPSuAC6PCE+seYTay+13EmqOkLqSTUHl35S
zafUPYPNXlz6SE039HLPQKWfgcp3lJpPq3xLqfnUSoe0zo+E3Ee6OQAwRGno

                   "], {{0, 0}, {8, 8}}, {0, 1}], {{
                    {GrayLevel[
                    NCache[-1 + GoldenRatio, 0.6180339887498949]], 
                    
                    StyleBox[
                    LineBox[{{{0, 8}, {8, 8}}, {{0, 7}, {8, 7}}, {{0, 6}, {8, 
                    6}}, {{0, 5}, {8, 5}}, {{0, 4}, {8, 4}}, {{0, 3}, {8, 
                    3}}, {{0, 2}, {8, 2}}, {{0, 1}, {8, 1}}, {{0, 0}, {8, 
                    0}}}],
                    Antialiasing->False]}}, {
                    {GrayLevel[
                    NCache[-1 + GoldenRatio, 0.6180339887498949]], 
                    
                    StyleBox[
                    LineBox[{{{0, 0}, {0, 8}}, {{1, 0}, {1, 8}}, {{2, 0}, {2, 
                    8}}, {{3, 0}, {3, 8}}, {{4, 0}, {4, 8}}, {{5, 0}, {5, 
                    8}}, {{6, 0}, {6, 8}}, {{7, 0}, {7, 8}}, {{8, 0}, {8, 
                    8}}}],
                    Antialiasing->False]}}}},
                 Epilog->{
                   GrayLevel[1], 
                   DiskBox[{7.5, 4.5}, 0.2]},
                 Frame->False,
                 FrameLabel->{None, None},
                 FrameTicks->{{None, None}, {None, None}},
                 GridLinesStyle->Directive[
                   GrayLevel[0.5, 0.4]],
                 
                 Method->{
                  "DefaultBoundaryStyle" -> Automatic, "DefaultPlotStyle" -> 
                   Automatic}], 4->
                GraphicsBox[{RasterBox[CompressedData["
1:eJxTTMoPSmVmYGDggGIQGwI+2KPSuAC6PCE+seYTay+13EmqOkLqSTUHl35S
zafUPUPNXlzmkGo+sepx6SM33mltDi511Mp3lJpPq3xLqfmUup9e+YKQ+0g3
BwBEL2sX
                   "], {{0, 0}, {8, 8}}, {0, 1}], {{
                    {GrayLevel[
                    NCache[-1 + GoldenRatio, 0.6180339887498949]], 
                    
                    StyleBox[
                    LineBox[{{{0, 8}, {8, 8}}, {{0, 7}, {8, 7}}, {{0, 6}, {8, 
                    6}}, {{0, 5}, {8, 5}}, {{0, 4}, {8, 4}}, {{0, 3}, {8, 
                    3}}, {{0, 2}, {8, 2}}, {{0, 1}, {8, 1}}, {{0, 0}, {8, 
                    0}}}],
                    Antialiasing->False]}}, {
                    {GrayLevel[
                    NCache[-1 + GoldenRatio, 0.6180339887498949]], 
                    
                    StyleBox[
                    LineBox[{{{0, 0}, {0, 8}}, {{1, 0}, {1, 8}}, {{2, 0}, {2, 
                    8}}, {{3, 0}, {3, 8}}, {{4, 0}, {4, 8}}, {{5, 0}, {5, 
                    8}}, {{6, 0}, {6, 8}}, {{7, 0}, {7, 8}}, {{8, 0}, {8, 
                    8}}}],
                    Antialiasing->False]}}}},
                 Epilog->{
                   GrayLevel[1], 
                   DiskBox[{3.5, 3.5}, 0.2]},
                 Frame->False,
                 FrameLabel->{None, None},
                 FrameTicks->{{None, None}, {None, None}},
                 GridLinesStyle->Directive[
                   GrayLevel[0.5, 0.4]],
                 
                 Method->{
                  "DefaultBoundaryStyle" -> Automatic, "DefaultPlotStyle" -> 
                   Automatic}], 5->
                GraphicsBox[{RasterBox[CompressedData["
1:eJxTTMoPSmVmYGDggGIQGwI+2KPSuAC6PCE+seYTay+13EmqOkLqSTUHl35S
zafUPUPNXlzmkGo+sepx6SM33mllDiF11Mp3lJpPq3xLqfmUup9e+YKQ+0g3
BwChm2no
                   "], {{0, 0}, {8, 8}}, {0, 1}], {{
                    {GrayLevel[
                    NCache[-1 + GoldenRatio, 0.6180339887498949]], 
                    
                    StyleBox[
                    LineBox[{{{0, 8}, {8, 8}}, {{0, 7}, {8, 7}}, {{0, 6}, {8, 
                    6}}, {{0, 5}, {8, 5}}, {{0, 4}, {8, 4}}, {{0, 3}, {8, 
                    3}}, {{0, 2}, {8, 2}}, {{0, 1}, {8, 1}}, {{0, 0}, {8, 
                    0}}}],
                    Antialiasing->False]}}, {
                    {GrayLevel[
                    NCache[-1 + GoldenRatio, 0.6180339887498949]], 
                    
                    StyleBox[
                    LineBox[{{{0, 0}, {0, 8}}, {{1, 0}, {1, 8}}, {{2, 0}, {2, 
                    8}}, {{3, 0}, {3, 8}}, {{4, 0}, {4, 8}}, {{5, 0}, {5, 
                    8}}, {{6, 0}, {6, 8}}, {{7, 0}, {7, 8}}, {{8, 0}, {8, 
                    8}}}],
                    Antialiasing->False]}}}},
                 Epilog->{
                   GrayLevel[1], 
                   DiskBox[{0.5, 5.5}, 0.2]},
                 Frame->False,
                 FrameLabel->{None, None},
                 FrameTicks->{{None, None}, {None, None}},
                 GridLinesStyle->Directive[
                   GrayLevel[0.5, 0.4]],
                 
                 Method->{
                  "DefaultBoundaryStyle" -> Automatic, "DefaultPlotStyle" -> 
                   Automatic}], 6->
                GraphicsBox[{RasterBox[CompressedData["
1:eJxTTMoPSmVmYGDggGIQGwI+2KPSuAC6PCE+seYTay+13EmqOkLqSTUHl35S
zafUPUPNXlzmkGo+sebgkic33mllDi55WptDar6mdXxRK/wJqceljtb5gpD7
SDcHAPdlaeg=
                   "], {{0, 0}, {8, 8}}, {0, 1}], {{
                    {GrayLevel[
                    NCache[-1 + GoldenRatio, 0.6180339887498949]], 
                    
                    StyleBox[
                    LineBox[{{{0, 8}, {8, 8}}, {{0, 7}, {8, 7}}, {{0, 6}, {8, 
                    6}}, {{0, 5}, {8, 5}}, {{0, 4}, {8, 4}}, {{0, 3}, {8, 
                    3}}, {{0, 2}, {8, 2}}, {{0, 1}, {8, 1}}, {{0, 0}, {8, 
                    0}}}],
                    Antialiasing->False]}}, {
                    {GrayLevel[
                    NCache[-1 + GoldenRatio, 0.6180339887498949]], 
                    StyleBox[
                    LineBox[{{{0, 0}, {0, 8}}, {{1, 0}, {1, 8}}, {{2, 0}, {2, 
                    8}}, {{3, 0}, {3, 8}}, {{4, 0}, {4, 8}}, {{5, 0}, {5, 
                    8}}, {{6, 0}, {6, 8}}, {{7, 0}, {7, 8}}, {{8, 0}, {8, 
                    8}}}],
                    Antialiasing->False]}}}},
                 Epilog->{
                   PointSize[Large], 
                   PointBox[{{0.5, 5.5}, {0.5, 6.5}, {0.5, 4.5}, {1.5, 5.5}}]},
                 Frame->False,
                 FrameLabel->{None, None},
                 FrameTicks->{{None, None}, {None, None}},
                 GridLinesStyle->Directive[
                   GrayLevel[0.5, 0.4]],
                 
                 Method->{
                  "DefaultBoundaryStyle" -> Automatic, "DefaultPlotStyle" -> 
                   Automatic}], 7->
                GraphicsBox[{RasterBox[CompressedData["
1:eJxTTMoPSmVmYGDggGIQGwI+2KPSuAC6PCE+seYTay+13EmqOkLqSTUHl35S
zafUPUPNXlzmkGo+sebgkic33mllDi55WptDar6mdXxRO/wHKj3TL/0DAAw6
axc=
                   "], {{0, 0}, {8, 8}}, {0, 1}], {{
                    {GrayLevel[
                    NCache[-1 + GoldenRatio, 0.6180339887498949]], 
                    
                    StyleBox[
                    LineBox[{{{0, 8}, {8, 8}}, {{0, 7}, {8, 7}}, {{0, 6}, {8, 
                    6}}, {{0, 5}, {8, 5}}, {{0, 4}, {8, 4}}, {{0, 3}, {8, 
                    3}}, {{0, 2}, {8, 2}}, {{0, 1}, {8, 1}}, {{0, 0}, {8, 
                    0}}}],
                    Antialiasing->False]}}, {
                    {GrayLevel[
                    NCache[-1 + GoldenRatio, 0.6180339887498949]], 
                    
                    StyleBox[
                    LineBox[{{{0, 0}, {0, 8}}, {{1, 0}, {1, 8}}, {{2, 0}, {2, 
                    8}}, {{3, 0}, {3, 8}}, {{4, 0}, {4, 8}}, {{5, 0}, {5, 
                    8}}, {{6, 0}, {6, 8}}, {{7, 0}, {7, 8}}, {{8, 0}, {8, 
                    8}}}],
                    Antialiasing->False]}}}},
                 Epilog->{
                   GrayLevel[1], 
                   DiskBox[{6.5, 6.5}, 0.2]},
                 Frame->False,
                 FrameLabel->{None, None},
                 FrameTicks->{{None, None}, {None, None}},
                 GridLinesStyle->Directive[
                   GrayLevel[0.5, 0.4]],
                 
                 Method->{
                  "DefaultBoundaryStyle" -> Automatic, "DefaultPlotStyle" -> 
                   Automatic}], 8->
                GraphicsBox[{RasterBox[CompressedData["
1:eJxTTMoPSmVmYGDggGIQGwI+2KPSuAC6PCE+seYTay+13EmqOkLqSTUHl35S
zafUPUPNXlzmkGo+sebgkic33mllDi55WptDar6mdXxRO/zJzcfEipNqDi71
5JsDABPcaeg=
                   "], {{0, 0}, {8, 8}}, {0, 1}], {{
                    {GrayLevel[
                    NCache[-1 + GoldenRatio, 0.6180339887498949]], 
                    
                    StyleBox[
                    LineBox[{{{0, 8}, {8, 8}}, {{0, 7}, {8, 7}}, {{0, 6}, {8, 
                    6}}, {{0, 5}, {8, 5}}, {{0, 4}, {8, 4}}, {{0, 3}, {8, 
                    3}}, {{0, 2}, {8, 2}}, {{0, 1}, {8, 1}}, {{0, 0}, {8, 
                    0}}}],
                    Antialiasing->False]}}, {
                    {GrayLevel[
                    NCache[-1 + GoldenRatio, 0.6180339887498949]], 
                    
                    StyleBox[
                    LineBox[{{{0, 0}, {0, 8}}, {{1, 0}, {1, 8}}, {{2, 0}, {2, 
                    8}}, {{3, 0}, {3, 8}}, {{4, 0}, {4, 8}}, {{5, 0}, {5, 
                    8}}, {{6, 0}, {6, 8}}, {{7, 0}, {7, 8}}, {{8, 0}, {8, 
                    8}}}],
                    Antialiasing->False]}}}},
                 Epilog->{
                   GrayLevel[1], 
                   DiskBox[{7.5, 6.5}, 0.2]},
                 Frame->False,
                 FrameLabel->{None, None},
                 FrameTicks->{{None, None}, {None, None}},
                 GridLinesStyle->Directive[
                   GrayLevel[0.5, 0.4]],
                 
                 Method->{
                  "DefaultBoundaryStyle" -> Automatic, "DefaultPlotStyle" -> 
                   Automatic}], 9->
                GraphicsBox[{RasterBox[CompressedData["
1:eJxTTMoPSmVmYGDggGIQGwI+2KPSuAC6PCE+seYTay+13EmqOkLqSTUHl35S
zafUPUPNXlzmkGo+sebgkic33mllDi55WptDab4mZA658U7IHnLtxWUevfIF
LvXEmoMJAP0xZ4o=
                   "], {{0, 0}, {8, 8}}, {0, 1}], {{
                    {GrayLevel[
                    NCache[-1 + GoldenRatio, 0.6180339887498949]], 
                    
                    StyleBox[
                    LineBox[{{{0, 8}, {8, 8}}, {{0, 7}, {8, 7}}, {{0, 6}, {8, 
                    6}}, {{0, 5}, {8, 5}}, {{0, 4}, {8, 4}}, {{0, 3}, {8, 
                    3}}, {{0, 2}, {8, 2}}, {{0, 1}, {8, 1}}, {{0, 0}, {8, 
                    0}}}],
                    Antialiasing->False]}}, {
                    {GrayLevel[
                    NCache[-1 + GoldenRatio, 0.6180339887498949]], 
                    
                    StyleBox[
                    LineBox[{{{0, 0}, {0, 8}}, {{1, 0}, {1, 8}}, {{2, 0}, {2, 
                    8}}, {{3, 0}, {3, 8}}, {{4, 0}, {4, 8}}, {{5, 0}, {5, 
                    8}}, {{6, 0}, {6, 8}}, {{7, 0}, {7, 8}}, {{8, 0}, {8, 
                    8}}}],
                    Antialiasing->False]}}}},
                 Epilog->{
                   PointSize[Large], 
                   PointBox[{{7.5, 6.5}, {7.5, 7.5}, {7.5, 5.5}, {6.5, 6.5}}]},
                 Frame->False,
                 FrameLabel->{None, None},
                 FrameTicks->{{None, None}, {None, None}},
                 GridLinesStyle->Directive[
                   GrayLevel[0.5, 0.4]],
                 
                 Method->{
                  "DefaultBoundaryStyle" -> Automatic, "DefaultPlotStyle" -> 
                   Automatic}], 10->
                GraphicsBox[{RasterBox[CompressedData["
1:eJxTTMoPSmVmYGDggGIQGwI+2KPSuAC6PCE+seYTay+13EmqOkLqSTUHl35S
zafUPUPNXlzmkGo+sebgkic33mllDi55WptDab4mZA658U7IHnLtJdccauUL
Qu4gJI6pDgDgyWeK
                   "], {{0, 0}, {8, 8}}, {0, 1}], {{
                    {GrayLevel[
                    NCache[-1 + GoldenRatio, 0.6180339887498949]], 
                    
                    StyleBox[
                    LineBox[{{{0, 8}, {8, 8}}, {{0, 7}, {8, 7}}, {{0, 6}, {8, 
                    6}}, {{0, 5}, {8, 5}}, {{0, 4}, {8, 4}}, {{0, 3}, {8, 
                    3}}, {{0, 2}, {8, 2}}, {{0, 1}, {8, 1}}, {{0, 0}, {8, 
                    0}}}],
                    Antialiasing->False]}}, {
                    {GrayLevel[
                    NCache[-1 + GoldenRatio, 0.6180339887498949]], 
                    StyleBox[
                    LineBox[{{{0, 0}, {0, 8}}, {{1, 0}, {1, 8}}, {{2, 0}, {2, 
                    8}}, {{3, 0}, {3, 8}}, {{4, 0}, {4, 8}}, {{5, 0}, {5, 
                    8}}, {{6, 0}, {6, 8}}, {{7, 0}, {7, 8}}, {{8, 0}, {8, 
                    8}}}],
                    Antialiasing->False]}}}},
                 Epilog->{
                   PointSize[Large], 
                   
                   PointBox[{{7.5, 6.5}, {7.5, 7.5}, {7.5, 5.5}, {6.5, 6.5}, {
                    6.5, 7.5}}]},
                 Frame->False,
                 FrameLabel->{None, None},
                 FrameTicks->{{None, None}, {None, None}},
                 GridLinesStyle->Directive[
                   GrayLevel[0.5, 0.4]],
                 
                 Method->{
                  "DefaultBoundaryStyle" -> Automatic, "DefaultPlotStyle" -> 
                   Automatic}], 11->
                GraphicsBox[{RasterBox[CompressedData["
1:eJxTTMoPSmVmYGDggGIQGwI+2KPSuAC6PCE+seYTay+13EmqOkLqSTUHl35S
zafUPUPNXlzmkGo+sebgkic33mkVbpSqI9ccUuORkH5qxTsh+3DZT6z5A5Uv
cKknVhxTHQBY9WxG
                   "], {{0, 0}, {8, 8}}, {0, 1}], {{
                    {GrayLevel[
                    NCache[-1 + GoldenRatio, 0.6180339887498949]], 
                    
                    StyleBox[
                    LineBox[{{{0, 8}, {8, 8}}, {{0, 7}, {8, 7}}, {{0, 6}, {8, 
                    6}}, {{0, 5}, {8, 5}}, {{0, 4}, {8, 4}}, {{0, 3}, {8, 
                    3}}, {{0, 2}, {8, 2}}, {{0, 1}, {8, 1}}, {{0, 0}, {8, 
                    0}}}],
                    Antialiasing->False]}}, {
                    {GrayLevel[
                    NCache[-1 + GoldenRatio, 0.6180339887498949]], 
                    
                    StyleBox[
                    LineBox[{{{0, 0}, {0, 8}}, {{1, 0}, {1, 8}}, {{2, 0}, {2, 
                    8}}, {{3, 0}, {3, 8}}, {{4, 0}, {4, 8}}, {{5, 0}, {5, 
                    8}}, {{6, 0}, {6, 8}}, {{7, 0}, {7, 8}}, {{8, 0}, {8, 
                    8}}}],
                    Antialiasing->False]}}}},
                 Epilog->{
                   PointSize[Large], 
                   
                   PointBox[{{7.5, 6.5}, {7.5, 7.5}, {7.5, 5.5}, {6.5, 6.5}, {
                    6.5, 7.5}, {7.5, 4.5}, {6.5, 5.5}}]},
                 Frame->False,
                 FrameLabel->{None, None},
                 FrameTicks->{{None, None}, {None, None}},
                 GridLinesStyle->Directive[
                   GrayLevel[0.5, 0.4]],
                 
                 Method->{
                  "DefaultBoundaryStyle" -> Automatic, "DefaultPlotStyle" -> 
                   Automatic}], 12->
                GraphicsBox[{RasterBox[CompressedData["
1:eJxTTMoPSmVmYGDggGIQGwI+2KPSuAC6PCE+seYTay+13EmqOkLqSTUHl35S
zafUPUPNXlzmkGo+sebgkic33ok1h5B+UvMLse4h1RxS45GQfmrFOyH7cNlP
rPkDlS9wqSdWHFMdAH2Raxc=
                   "], {{0, 0}, {8, 8}}, {0, 1}], {{
                    {GrayLevel[
                    NCache[-1 + GoldenRatio, 0.6180339887498949]], 
                    
                    StyleBox[
                    LineBox[{{{0, 8}, {8, 8}}, {{0, 7}, {8, 7}}, {{0, 6}, {8, 
                    6}}, {{0, 5}, {8, 5}}, {{0, 4}, {8, 4}}, {{0, 3}, {8, 
                    3}}, {{0, 2}, {8, 2}}, {{0, 1}, {8, 1}}, {{0, 0}, {8, 
                    0}}}],
                    Antialiasing->False]}}, {
                    {GrayLevel[
                    NCache[-1 + GoldenRatio, 0.6180339887498949]], 
                    
                    StyleBox[
                    LineBox[{{{0, 0}, {0, 8}}, {{1, 0}, {1, 8}}, {{2, 0}, {2, 
                    8}}, {{3, 0}, {3, 8}}, {{4, 0}, {4, 8}}, {{5, 0}, {5, 
                    8}}, {{6, 0}, {6, 8}}, {{7, 0}, {7, 8}}, {{8, 0}, {8, 
                    8}}}],
                    Antialiasing->False]}}}},
                 Epilog->{
                   GrayLevel[1], 
                   DiskBox[{6.5, 4.5}, 0.2]},
                 Frame->False,
                 FrameLabel->{None, None},
                 FrameTicks->{{None, None}, {None, None}},
                 GridLinesStyle->Directive[
                   GrayLevel[0.5, 0.4]],
                 
                 Method->{
                  "DefaultBoundaryStyle" -> Automatic, "DefaultPlotStyle" -> 
                   Automatic}], 13->
                GraphicsBox[{RasterBox[CompressedData["
1:eJxTTMoPSmVmYGDggGIQGwI+2KPSuAC6PCE+seYTay+13EmqOkLqSTUHl35S
zafUPUPNXlzm0Eoclzy58U6tdEIt9aTmO2LlqZ3+cekjVhyX/EDnF1LNx6We
WHFMdQD+VWeK
                   "], {{0, 0}, {8, 8}}, {0, 1}], {{
                    {GrayLevel[
                    NCache[-1 + GoldenRatio, 0.6180339887498949]], 
                    
                    StyleBox[
                    LineBox[{{{0, 8}, {8, 8}}, {{0, 7}, {8, 7}}, {{0, 6}, {8, 
                    6}}, {{0, 5}, {8, 5}}, {{0, 4}, {8, 4}}, {{0, 3}, {8, 
                    3}}, {{0, 2}, {8, 2}}, {{0, 1}, {8, 1}}, {{0, 0}, {8, 
                    0}}}],
                    Antialiasing->False]}}, {
                    {GrayLevel[
                    NCache[-1 + GoldenRatio, 0.6180339887498949]], 
                    
                    StyleBox[
                    LineBox[{{{0, 0}, {0, 8}}, {{1, 0}, {1, 8}}, {{2, 0}, {2, 
                    8}}, {{3, 0}, {3, 8}}, {{4, 0}, {4, 8}}, {{5, 0}, {5, 
                    8}}, {{6, 0}, {6, 8}}, {{7, 0}, {7, 8}}, {{8, 0}, {8, 
                    8}}}],
                    Antialiasing->False]}}}},
                 Epilog->{
                   PointSize[Large], 
                   
                   PointBox[{{6.5, 4.5}, {6.5, 5.5}, {6.5, 3.5}, {5.5, 4.5}, {
                    7.5, 4.5}}]},
                 Frame->False,
                 FrameLabel->{None, None},
                 FrameTicks->{{None, None}, {None, None}},
                 GridLinesStyle->Directive[
                   GrayLevel[0.5, 0.4]],
                 
                 Method->{
                  "DefaultBoundaryStyle" -> Automatic, "DefaultPlotStyle" -> 
                   Automatic}], 14->
                GraphicsBox[{RasterBox[CompressedData["
1:eJxTTMoPSmVmYGDggGIQGwI+2KPSuAC6PCE+seYTay+13EmqOkLqSTUHl35S
zafUPUPNXlzm0Eoclzy58U6tdEIt9aTmO2LlaR2eAxWPA50vcKknVhxTHQAH
3GeK
                   "], {{0, 0}, {8, 8}}, {0, 1}], {{
                    {GrayLevel[
                    NCache[-1 + GoldenRatio, 0.6180339887498949]], 
                    
                    StyleBox[
                    LineBox[{{{0, 8}, {8, 8}}, {{0, 7}, {8, 7}}, {{0, 6}, {8, 
                    6}}, {{0, 5}, {8, 5}}, {{0, 4}, {8, 4}}, {{0, 3}, {8, 
                    3}}, {{0, 2}, {8, 2}}, {{0, 1}, {8, 1}}, {{0, 0}, {8, 
                    0}}}],
                    Antialiasing->False]}}, {
                    {GrayLevel[
                    NCache[-1 + GoldenRatio, 0.6180339887498949]], 
                    
                    StyleBox[
                    LineBox[{{{0, 0}, {0, 8}}, {{1, 0}, {1, 8}}, {{2, 0}, {2, 
                    8}}, {{3, 0}, {3, 8}}, {{4, 0}, {4, 8}}, {{5, 0}, {5, 
                    8}}, {{6, 0}, {6, 8}}, {{7, 0}, {7, 8}}, {{8, 0}, {8, 
                    8}}}],
                    Antialiasing->False]}}}},
                 Epilog->{
                   GrayLevel[1], 
                   DiskBox[{7.5, 5.5}, 0.2]},
                 Frame->False,
                 FrameLabel->{None, None},
                 FrameTicks->{{None, None}, {None, None}},
                 GridLinesStyle->Directive[
                   GrayLevel[0.5, 0.4]],
                 
                 Method->{
                  "DefaultBoundaryStyle" -> Automatic, "DefaultPlotStyle" -> 
                   Automatic}], 15->
                GraphicsBox[{RasterBox[CompressedData["
1:eJxTTMoPSmVmYGDggGIQGwI+2KPSuAC6PCE+seYTay+13EmqOkLqSTUHl35S
zafUPUPNXlzm0EoclzytzcGlj9rqSc13xMrTOh9RO/wHKr+Qaj4u9cSKY6oD
AMRBZls=
                   "], {{0, 0}, {8, 8}}, {0, 1}], {{
                    {GrayLevel[
                    NCache[-1 + GoldenRatio, 0.6180339887498949]], 
                    
                    StyleBox[
                    LineBox[{{{0, 8}, {8, 8}}, {{0, 7}, {8, 7}}, {{0, 6}, {8, 
                    6}}, {{0, 5}, {8, 5}}, {{0, 4}, {8, 4}}, {{0, 3}, {8, 
                    3}}, {{0, 2}, {8, 2}}, {{0, 1}, {8, 1}}, {{0, 0}, {8, 
                    0}}}],
                    Antialiasing->False]}}, {
                    {GrayLevel[
                    NCache[-1 + GoldenRatio, 0.6180339887498949]], 
                    
                    StyleBox[
                    LineBox[{{{0, 0}, {0, 8}}, {{1, 0}, {1, 8}}, {{2, 0}, {2, 
                    8}}, {{3, 0}, {3, 8}}, {{4, 0}, {4, 8}}, {{5, 0}, {5, 
                    8}}, {{6, 0}, {6, 8}}, {{7, 0}, {7, 8}}, {{8, 0}, {8, 
                    8}}}],
                    Antialiasing->False]}}}},
                 Epilog->{
                   GrayLevel[1], 
                   DiskBox[{2.5, 4.5}, 0.2]},
                 Frame->False,
                 FrameLabel->{None, None},
                 FrameTicks->{{None, None}, {None, None}},
                 GridLinesStyle->Directive[
                   GrayLevel[0.5, 0.4]],
                 
                 Method->{
                  "DefaultBoundaryStyle" -> Automatic, "DefaultPlotStyle" -> 
                   Automatic}]}, Dynamic[$CellContext`i7$$],
                Alignment->Automatic,
                BaseStyle->"ListAnimateCore",
                ImageSize->All,
                TransitionDirection->Horizontal,
                TransitionDuration->0.5,
                TransitionEffect->Automatic],
               Identity,
               Editable->True,
               Selectable->True],
              ImageMargins->10],
             Deployed->False,
             StripOnInput->False,
             ScriptLevel->0,
             GraphicsBoxOptions->{PreserveImageOptions->True},
             Graphics3DBoxOptions->{PreserveImageOptions->True}],
            Identity,
            Editable->False,
            Selectable->False],
           Alignment->{Left, Center},
           Background->GrayLevel[1],
           Frame->1,
           FrameStyle->GrayLevel[0, 0.2],
           ItemSize->Automatic,
           StripOnInput->False]}
        },
        AutoDelete->False,
        GridBoxAlignment->{
         "Columns" -> {{Left}}, "ColumnsIndexed" -> {}, "Rows" -> {{Top}}, 
          "RowsIndexed" -> {}},
        GridBoxDividers->{
         "Columns" -> {{False}}, "ColumnsIndexed" -> {}, "Rows" -> {{False}}, 
          "RowsIndexed" -> {}},
        GridBoxItemSize->{"Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}},
        GridBoxSpacings->{"Columns" -> {
            Offset[0.7], {
             Offset[0.5599999999999999]}, 
            Offset[0.7]}, "ColumnsIndexed" -> {}, "Rows" -> {
            Offset[0.4], {
             Offset[0.8]}, 
            Offset[0.4]}, "RowsIndexed" -> {}}], If[
        And[
         CurrentValue["NotebookSelected"], 
         CurrentValue["SelectionOver"]], 
        Manipulate`Dump`ReadControllerState[
         Map[Manipulate`Dump`updateOneVar[#, 
           CurrentValue["PreviousFormatTime"], 
           CurrentValue["CurrentFormatTime"]]& , {
           
           Manipulate`Dump`controllerLink[{$CellContext`i7$$, \
$CellContext`i7$8286$$}, "X1", 
            If["DefaultAbsolute", True, "JB1"], False, {1, 15, 1}, 15, 1.]}], 
         CurrentValue[{
          "ControllerData", {
           "Gamepad", "Joystick", "Multi-Axis Controller"}}], {}]],
       ImageSizeCache->{393., {207.384033203125, 213.115966796875}}],
      DefaultBaseStyle->{},
      FrameMargins->{{5, 5}, {5, 5}}],
     BaselinePosition->Automatic,
     ImageMargins->0],
    Deinitialization:>None,
    DynamicModuleValues:>{},
    SynchronousInitialization->True,
    UndoTrackedVariables:>{Typeset`show$$, Typeset`bookmarkMode$$},
    UnsavedVariables:>{Typeset`initDone$$},
    UntrackedVariables:>{Typeset`size$$}], "ListAnimate",
   Deployed->True,
   StripOnInput->False],
  Manipulate`InterpretManipulate[1]]], "Output",
 CellChangeTimes->{
  3.707178216882607*^9, 3.707178275778708*^9, 3.707178413943099*^9, 
   3.7071784563451433`*^9, 3.707178565935732*^9, 3.707179277747486*^9, 
   3.707180063120687*^9, 3.707180129361535*^9, 3.707180352562965*^9, 
   3.7071811021390553`*^9, 3.707181218938558*^9, 3.707181283115377*^9, 
   3.707181457557685*^9, {3.707181924207335*^9, 3.707181931706725*^9}, 
   3.70718209987985*^9, 3.707182618043944*^9, 3.707182657592761*^9, {
   3.7071827065614853`*^9, 3.7071827348441*^9}, 3.707185812149971*^9, 
   3.7072117166499033`*^9, 3.707211905501198*^9, 3.7072135618769903`*^9, 
   3.70721545751068*^9, 3.707228721541746*^9, 3.707229205204672*^9, 
   3.707229242294504*^9, 3.707229287692124*^9, 3.707229322921728*^9, 
   3.7072293602209787`*^9, 3.707229508850185*^9, 3.707229828058363*^9, {
   3.707253064586924*^9, 3.707253070545454*^9}},
 CellLabel->"Out[91]=",ExpressionUUID->"a96e0985-80d5-424d-b19b-9b276e978c60"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Analyzing the Data and Power Law Distribution", "Section",
 CellChangeTimes->{{3.700774708350976*^9, 3.700774714085747*^9}, {
  3.707174296330513*^9, 3.707174300518691*^9}, {3.707175748822316*^9, 
  3.707175762912952*^9}, {3.707178891826811*^9, 3.7071789007255573`*^9}, {
  3.707183215842081*^9, 3.7071832231236763`*^9}, {3.707213077650503*^9, 
  3.70721308432698*^9}},ExpressionUUID->"fcd0dcee-9825-4599-9dd2-\
a15d2c5e9877"],

Cell["\<\
A power law distribution is when the size of an event is inversely \
proportional to the likelihood it will occur. So the bigger an event the less \
likely it will occur. Let\[CloseCurlyQuote]s see what behaviour our sandpile \
displayed.\
\>", "Text",
 CellChangeTimes->{{3.700774370934465*^9, 3.700774423028035*^9}, {
  3.707174852543458*^9, 3.7071749032379637`*^9}, {3.7071758118146152`*^9, 
  3.707175875833514*^9}, {3.7071771083476954`*^9, 3.7071771754593353`*^9}, {
  3.7071776082789373`*^9, 3.707177621852748*^9}, {3.7071776949762487`*^9, 
  3.7071777038562183`*^9}, {3.707177758151053*^9, 3.707177823241349*^9}, {
  3.707178133803056*^9, 3.707178134257214*^9}, {3.707178915736081*^9, 
  3.707178924086363*^9}, {3.707213103882145*^9, 
  3.707213205865614*^9}},ExpressionUUID->"16102c31-5aa8-4437-aa29-\
21da783800a9"],

Cell["\<\
Let\[CloseCurlyQuote]s look at a histogram of our data. This displays the \
number of avalanches of each size. In this context size refers to how many \
cells toppled:\
\>", "Direction",
 CellChangeTimes->{{3.700774554822753*^9, 3.700774560088324*^9}, {
  3.707175895017067*^9, 3.707175897988942*^9}, {3.7071760614108877`*^9, 
  3.7071760764434977`*^9}, {3.707176120264221*^9, 3.707176148222722*^9}, {
  3.707176299912181*^9, 3.707176316444985*^9}, {3.7071787568558683`*^9, 
  3.7071787574744043`*^9}, {3.70717897417844*^9, 3.707179041500227*^9}, {
  3.7072533700032883`*^9, 
  3.707253392286021*^9}},ExpressionUUID->"3adf6ca5-9f14-4a81-bda1-\
dc6a9fa0b03c"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"data", "=", 
   RowBox[{"DeleteCases", "[", 
    RowBox[{"run", ",", "0"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Histogram", "[", 
  RowBox[{"data", ",", 
   RowBox[{"PlotRange", "\[Rule]", "Full"}]}], "]"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.7071790471149883`*^9, 3.707179097402431*^9}, {
  3.70718039219431*^9, 3.7071803931197577`*^9}, {3.707180429266321*^9, 
  3.7071804376449003`*^9}, {3.7071804877442417`*^9, 3.7071804935603037`*^9}},
 CellLabel->"In[92]:=",ExpressionUUID->"b8af9c4b-37f3-4683-ae21-619f779a4781"],

Cell[BoxData[
 GraphicsBox[{{
    {RGBColor[0.987148, 0.8073604000000001, 0.49470040000000004`], EdgeForm[{
     Opacity[0.7], Thickness[Small]}], {}, {
      {RGBColor[0.987148, 0.8073604000000001, 0.49470040000000004`], 
       EdgeForm[{Opacity[0.7], Thickness[Small]}], {
        TagBox[
         TooltipBox[
          TagBox[{
            DynamicBox[{
              FEPrivate`If[
               CurrentValue["MouseOver"], 
               EdgeForm[{
                 GrayLevel[0.5], 
                 AbsoluteThickness[1.5], 
                 Opacity[0.66]}], {}, {}], 
              RectangleBox[{0., 0}, {2., 2.}, "RoundingRadius" -> 0]},
             
             ImageSizeCache->{{23.31204963971177, 
              187.86329063250605`}, {-104.18862053852637`, 
              92.75303744488319}}]},
           StatusArea[#, 2]& ,
           TagBoxNote->"2"],
          StyleBox["2", {}, StripOnInput -> False]],
         Annotation[#, 
          Style[2, {}], "Tooltip"]& ]}, {
        TagBox[
         TooltipBox[
          TagBox[{
            DynamicBox[{
              FEPrivate`If[
               CurrentValue["MouseOver"], 
               EdgeForm[{
                 GrayLevel[0.5], 
                 AbsoluteThickness[1.5], 
                 Opacity[0.66]}], {}, {}], 
              RectangleBox[{2., 0}, {4., 1.}, "RoundingRadius" -> 0]},
             
             ImageSizeCache->{{187.36329063250605`, 
              351.9145316253003}, {-5.967791546821587, 92.75303744488319}}]},
           StatusArea[#, 1]& ,
           TagBoxNote->"1"],
          StyleBox["1", {}, StripOnInput -> False]],
         Annotation[#, 
          Style[1, {}], "Tooltip"]& ]}}}, {}, {}}}, {{}, {}}},
  AspectRatio->NCache[GoldenRatio^(-1), 0.6180339887498948],
  Axes->{True, True},
  AxesLabel->{None, None},
  AxesOrigin->{-0.08, 0},
  FrameLabel->{{None, None}, {None, None}},
  FrameTicks->{{Automatic, Automatic}, {Automatic, Automatic}},
  GridLines->{None, None},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  PlotRange->{{0., 4.}, {All, All}},
  PlotRangePadding->{{
     Scaled[0.02], 
     Scaled[0.02]}, {
     Scaled[0.02], 
     Scaled[0.05]}},
  Ticks->{Automatic, Automatic}]], "Output",
 CellChangeTimes->{{3.7071790704892693`*^9, 3.7071790786544237`*^9}, 
   3.707179327840846*^9, 3.7071803585459146`*^9, 3.707180393693906*^9, {
   3.7071804315750933`*^9, 3.707180438150766*^9}, {3.707180470310507*^9, 
   3.7071804945142183`*^9}, 3.707181102659202*^9, 3.707181220244006*^9, 
   3.7071814597147083`*^9, 3.707182105483449*^9, 3.707182618162139*^9, 
   3.707182658084498*^9, {3.707182706695058*^9, 3.707182734967404*^9}, 
   3.707211717064947*^9, 3.707211907133217*^9, 3.7072135635368357`*^9, 
   3.707215460321766*^9, 3.7072292425958443`*^9, 3.707229287947296*^9, 
   3.707229323338122*^9, 3.707229360338112*^9, 3.707229510587901*^9, 
   3.707229828165422*^9, {3.707253066050221*^9, 3.707253070636656*^9}},
 CellLabel->"Out[93]=",ExpressionUUID->"0ce746bb-e8d2-4f73-b9ba-3a942cc786e4"]
}, Open  ]],

Cell["\<\
It looks like some sort of power law distribution, let\[CloseCurlyQuote]s do \
some more analysis by counting how many of each avalanche size occurred:\
\>", "Direction",
 CellChangeTimes->{{3.700774554822753*^9, 3.700774560088324*^9}, {
  3.707175895017067*^9, 3.707175897988942*^9}, {3.7071760614108877`*^9, 
  3.7071760764434977`*^9}, {3.707176120264221*^9, 3.707176148222722*^9}, {
  3.707176299912181*^9, 3.707176316444985*^9}, {3.7071787568558683`*^9, 
  3.7071787574744043`*^9}, {3.70717897417844*^9, 3.707179041500227*^9}, {
  3.70718066956979*^9, 3.7071807390633698`*^9}, {3.707213089583826*^9, 
  3.70721309034265*^9}},ExpressionUUID->"a2be7386-a3d2-442e-97ef-\
e139641fa2fc"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"dataCounts", "=", 
   RowBox[{"Counts", "[", "data", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"ListPlot", "[", 
  RowBox[{"dataCounts", ",", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<Size\>\"", ",", "\"\<Frequency (Count)\>\""}], "}"}]}], ",", 
   RowBox[{"PlotRange", "\[Rule]", "All"}]}], "]"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.70717935278986*^9, 3.7071793541949387`*^9}, {
   3.707180459610126*^9, 3.7071804624557543`*^9}, {3.707183476336927*^9, 
   3.707183492929605*^9}, 3.707211816740341*^9, {3.707213421630692*^9, 
   3.707213424659083*^9}},
 CellLabel->"In[94]:=",ExpressionUUID->"6e9b2bf8-7aae-415e-bf22-c7797bfb85b8"],

Cell[BoxData[
 GraphicsBox[{{}, {{{}, {
      {RGBColor[0.368417, 0.506779, 0.709798], PointSize[
       0.012833333333333334`], AbsoluteThickness[1.6], 
       PointBox[{{1., 2.}, {3., 1.}}]}}, {}}}, {}, {}, {{}, {}}, {{}, {}}},
  AspectRatio->NCache[GoldenRatio^(-1), 0.6180339887498948],
  Axes->{True, True},
  AxesLabel->{
    FormBox["\"Size\"", TraditionalForm], 
    FormBox["\"Frequency (Count)\"", TraditionalForm]},
  AxesOrigin->{0.96875, 0},
  DisplayFunction->Identity,
  Frame->{{False, False}, {False, False}},
  FrameLabel->{{None, None}, {None, None}},
  FrameTicks->{{Automatic, Automatic}, {Automatic, Automatic}},
  GridLines->{None, None},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  ImageMargins->0.,
  ImagePadding->All,
  ImageSize->Automatic,
  ImageSizeRaw->Automatic,
  Method->{"CoordinatesToolOptions" -> {"DisplayFunction" -> ({
        (Identity[#]& )[
         Part[#, 1]], 
        (Identity[#]& )[
         Part[#, 2]]}& ), "CopiedValueFunction" -> ({
        (Identity[#]& )[
         Part[#, 1]], 
        (Identity[#]& )[
         Part[#, 2]]}& )}},
  PlotRange->{{1., 3.}, {0, 2.}},
  PlotRangeClipping->True,
  PlotRangePadding->{{
     Scaled[0.02], 
     Scaled[0.02]}, {
     Scaled[0.02], 
     Scaled[0.05]}},
  Ticks->{Automatic, Automatic}]], "Output",
 CellChangeTimes->{{3.707179350465084*^9, 3.707179354816925*^9}, 
   3.707180477773859*^9, 3.707180888434472*^9, 3.707181102748377*^9, 
   3.707181220365972*^9, 3.707181459775564*^9, 3.707182109462557*^9, 
   3.707182618193084*^9, 3.70718265815386*^9, {3.7071827067445393`*^9, 
   3.7071827350031013`*^9}, 3.7072117171728687`*^9, 3.707211907228571*^9, 
   3.707213563680273*^9, 3.707215460443722*^9, 3.707229243009185*^9, 
   3.707229288074204*^9, 3.707229323393078*^9, 3.7072293604221277`*^9, 
   3.707229510676444*^9, 3.7072298282350082`*^9, {3.7072530663747177`*^9, 
   3.707253070720998*^9}},
 CellLabel->"Out[95]=",ExpressionUUID->"5519db0e-a39e-4778-b174-dc91fd6ac54c"]
}, Open  ]],

Cell["\<\
If we look at this on a Log-Log plot we should see a straight line, you may \
have to increase the neighbor of trials to improve the resolution of the \
graph:\
\>", "Direction",
 CellChangeTimes->{{3.700774554822753*^9, 3.700774560088324*^9}, {
  3.707175895017067*^9, 3.707175897988942*^9}, {3.7071760614108877`*^9, 
  3.7071760764434977`*^9}, {3.707176120264221*^9, 3.707176148222722*^9}, {
  3.707176299912181*^9, 3.707176316444985*^9}, {3.7071787568558683`*^9, 
  3.7071787574744043`*^9}, {3.70717897417844*^9, 3.707179041500227*^9}, {
  3.70718066956979*^9, 
  3.707180818277614*^9}},ExpressionUUID->"572694f4-e6a3-42fa-ba40-\
70403af5f6ef"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"dataPoints", "=", 
   RowBox[{"Inner", "[", 
    RowBox[{"List", ",", 
     RowBox[{"Keys", "[", "dataCounts", "]"}], ",", 
     RowBox[{"Values", "[", "dataCounts", "]"}], ",", "List"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"logData", "=", 
   RowBox[{
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"Log", "[", 
        RowBox[{"10", ",", "#1"}], "]"}], ",", 
       RowBox[{"Log", "[", 
        RowBox[{"10", ",", "#2"}], "]"}]}], "}"}], "&"}], "@@@", 
    "dataPoints"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"logPlot", "=", 
  RowBox[{"ListPlot", "[", 
   RowBox[{"logData", ",", 
    RowBox[{"AxesLabel", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{
      "\"\<Size of Avalanche\>\"", ",", "\"\<Frequency of Avalanche\>\""}], 
      "}"}]}], ",", 
    RowBox[{"PlotRange", "\[Rule]", "Full"}]}], "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.707179295870171*^9, 3.707179300904375*^9}, 
   3.707179413634046*^9, {3.707180827577713*^9, 3.7071808305811996`*^9}, {
   3.707180865059113*^9, 3.707180919779633*^9}, {3.7071834231049433`*^9, 
   3.70718342452932*^9}, {3.7072134299791927`*^9, 3.707213433943076*^9}},
 CellLabel->"In[96]:=",ExpressionUUID->"8fcc9e0d-3aab-4d2b-91a3-855fe605fd5f"],

Cell[BoxData[
 GraphicsBox[{{}, {{{}, {
      {RGBColor[0.368417, 0.506779, 0.709798], PointSize[
       0.012833333333333334`], AbsoluteThickness[1.6], 
       PointBox[{{0., 0.3010299956639812}, {0.47712125471966244`, 
        0.}}]}}, {}}}, {}, {}, {{}, {}}, {{}, {}}},
  AspectRatio->NCache[GoldenRatio^(-1), 0.6180339887498948],
  Axes->{True, True},
  AxesLabel->{
    FormBox["\"Size of Avalanche\"", TraditionalForm], 
    FormBox["\"Frequency of Avalanche\"", TraditionalForm]},
  AxesOrigin->{0, 0},
  DisplayFunction->Identity,
  Frame->{{False, False}, {False, False}},
  FrameLabel->{{None, None}, {None, None}},
  FrameTicks->{{Automatic, Automatic}, {Automatic, Automatic}},
  GridLines->{None, None},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  ImageMargins->0.,
  ImagePadding->All,
  ImageSize->Automatic,
  ImageSizeRaw->Automatic,
  Method->{"CoordinatesToolOptions" -> {"DisplayFunction" -> ({
        (Identity[#]& )[
         Part[#, 1]], 
        (Identity[#]& )[
         Part[#, 2]]}& ), "CopiedValueFunction" -> ({
        (Identity[#]& )[
         Part[#, 1]], 
        (Identity[#]& )[
         Part[#, 2]]}& )}},
  PlotRange->{{0, 0.47712125471966244`}, {0, 0.3010299956639812}},
  PlotRangeClipping->True,
  PlotRangePadding->{{
     Scaled[0.02], 
     Scaled[0.02]}, {
     Scaled[0.02], 
     Scaled[0.05]}},
  Ticks->{Automatic, Automatic}]], "Output",
 CellChangeTimes->{
  3.707179452581855*^9, 3.7071805148926697`*^9, 3.707180835060223*^9, {
   3.707180870404426*^9, 3.7071809216788692`*^9}, 3.7071811029931917`*^9, 
   3.707181220563315*^9, 3.7071814599496727`*^9, 3.707182113359036*^9, 
   3.707182618313444*^9, 3.707182658301066*^9, {3.707182707111167*^9, 
   3.7071827351670237`*^9}, 3.707211717528545*^9, 3.7072119073276*^9, 
   3.7072135638121767`*^9, 3.707215460529004*^9, 3.7072292430535183`*^9, 
   3.7072292881244507`*^9, 3.7072293234436197`*^9, 3.707229360516368*^9, 
   3.707229510746337*^9, 3.7072298284914703`*^9, {3.707253066428935*^9, 
   3.7072530707709427`*^9}},
 CellLabel->"Out[98]=",ExpressionUUID->"bfb65f9b-09e9-4b52-afd2-40b431284fe4"]
}, Open  ]],

Cell["Let\[CloseCurlyQuote]s fit a line to the data and determine what \
\[Alpha] is:", "Direction",
 CellChangeTimes->{{3.700774554822753*^9, 3.700774560088324*^9}, {
  3.707175895017067*^9, 3.707175897988942*^9}, {3.7071760614108877`*^9, 
  3.7071760764434977`*^9}, {3.707176120264221*^9, 3.707176148222722*^9}, {
  3.707176299912181*^9, 3.707176316444985*^9}, {3.7071787568558683`*^9, 
  3.7071787574744043`*^9}, {3.70717897417844*^9, 3.707179041500227*^9}, {
  3.70718066956979*^9, 3.707180818277614*^9}, {3.7071809321613073`*^9, 
  3.707180968525175*^9}, {3.707183076236249*^9, 3.7071830768421288`*^9}, {
  3.707183800778666*^9, 3.707183801287264*^9}, {3.707185577334317*^9, 
  3.707185586252892*^9}},ExpressionUUID->"99315488-a569-4076-8acb-\
b20a769ed4ee"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"fitLine", "=", 
  RowBox[{"Fit", "[", 
   RowBox[{"logData", ",", 
    RowBox[{"{", 
     RowBox[{"1", ",", "x"}], "}"}], ",", "x"}], "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.707180975121462*^9, 3.707180977887908*^9}, {
  3.707183796682633*^9, 3.70718379727956*^9}},
 CellLabel->"In[99]:=",ExpressionUUID->"b6daabc2-0ad9-457d-8775-f375877516dd"],

Cell[BoxData[
 RowBox[{"0.3010299956639811`", "\[VeryThinSpace]", "-", 
  RowBox[{"0.6309297535714574`", " ", "x"}]}]], "Output",
 CellChangeTimes->{
  3.707179418152236*^9, 3.707180517322948*^9, 3.707180952925025*^9, 
   3.707181103079521*^9, 3.7071812206289883`*^9, 3.707181459988456*^9, 
   3.707182119590823*^9, 3.707182618356271*^9, 3.707182658346887*^9, {
   3.70718270714594*^9, 3.7071827352042933`*^9}, 3.7071836545510397`*^9, 
   3.707183823657566*^9, 3.707211717660861*^9, 3.7072119074911013`*^9, 
   3.707213563997394*^9, 3.707215460594119*^9, 3.707229243098802*^9, 
   3.70722928817607*^9, 3.707229323486758*^9, 3.707229360550044*^9, 
   3.7072295107947187`*^9, 3.70722982857528*^9, {3.707253066478405*^9, 
   3.707253070800068*^9}},
 CellLabel->"Out[99]=",ExpressionUUID->"88463ede-74d7-4d5c-bcf8-7f8a76ca7a25"]
}, Open  ]],

Cell["\<\
We should expect the slope to be close to -1. Let\[CloseCurlyQuote]s overlay \
the line we fit onto our data:\
\>", "Direction",
 CellChangeTimes->{{3.700774554822753*^9, 3.700774560088324*^9}, {
  3.707175895017067*^9, 3.707175897988942*^9}, {3.7071760614108877`*^9, 
  3.7071760764434977`*^9}, {3.707176120264221*^9, 3.707176148222722*^9}, {
  3.707176299912181*^9, 3.707176316444985*^9}, {3.7071787568558683`*^9, 
  3.7071787574744043`*^9}, {3.70717897417844*^9, 3.707179041500227*^9}, {
  3.70718066956979*^9, 3.707180818277614*^9}, {3.7071809321613073`*^9, 
  3.707180968525175*^9}, {3.707183076236249*^9, 3.7071830768421288`*^9}, {
  3.707183800778666*^9, 3.70718382053718*^9}, {3.7071855914912853`*^9, 
  3.707185633715201*^9}, {3.7072117493189917`*^9, 3.707211758591626*^9}, {
  3.70721284805729*^9, 3.7072128636031427`*^9}, {3.707214627462943*^9, 
  3.707214634763071*^9}},ExpressionUUID->"199204b9-fb26-42ca-bb2d-\
a0c6116cad96"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"fitLinePlot", "=", 
   RowBox[{"Plot", "[", 
    RowBox[{"fitLine", ",", 
     RowBox[{"{", 
      RowBox[{"x", ",", "0", ",", "4"}], "}"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Show", "[", 
  RowBox[{"logPlot", ",", "fitLinePlot"}], "]"}]}], "Input",
 InitializationCell->True,
 CellLabel->
  "In[100]:=",ExpressionUUID->"a4bbf7c0-b08b-49c5-ad67-17fbddbbc8e3"],

Cell[BoxData[
 GraphicsBox[{{{}, {{{}, {
       {RGBColor[0.368417, 0.506779, 0.709798], PointSize[
        0.012833333333333334`], AbsoluteThickness[1.6], 
        PointBox[{{0., 0.3010299956639812}, {0.47712125471966244`, 
         0.}}]}}, {}}}, {}, {}, {{}, {}}, {{}, {}}}, {{{{}, {}, 
      TagBox[{
        {RGBColor[0.368417, 0.506779, 0.709798], AbsoluteThickness[1.6], 
         Opacity[1.], LineBox[CompressedData["
1:eJwB4QQe+yFib1JlAgAAAE0AAAACAAAASmXo0cDpdT4jCVIZE0TTPwRDGnDf
GVQ/r8pzoWQ30z8zn5icsxlkPzuMlSm2KtM/S83Xsp0ZdD9TD9k5WRHTP1dk
972SGYQ/gxVgWp/e0j/dL4dDjRmUP+IhbpsredI/oBVPhooZpD+iOoodRK7R
P4EIsyeJGbQ/IGzCIXUY0D9YWaGv8PHEP374aK8kUck/C/+BXEcezz+8j0cV
/eXCPyVR7ujDi9Q/IH6c1SE2uT93zjk/mPTZP6AiYW1sHqc/F7QR3gEB3z8A
2GZEl+dyv7biQ8zPPOI/kG9t0nj6rb/Cap0bWezkP+DR1n6Ii7y/9SY9D61t
5z/+/kBQTJjEvwL5qxAbJeo/xjoTBl5zy782/2C2U67sP8d/9eDo7NC/zIQ0
zsYq7z8hVg0HBRDUvx+Q6/mp7vA/W3+j/2V317/r99/e1TDyPxNtPPt3pNq/
pOq7yg6O8z+prVPJzhXevw4dp+/k5PQ/GnHL74O74L+MabVmoCT2P6Btbvz4
TuK/9kCr5Gh/9z+Uk1BykATkv3QyxLQWw/g/yhu0aQCd5b/frsSL0SH6P27N
VsqSV+e/+2rUmyl6+z8MeQ9PFgrpvytBB/5mu/w/6oZJVXKf6r9HoiFnsRf+
Pzi+wsTwVuy/dx1fIuFc/z/EV721R/HtvyzsVQvXTQBATOvNyo+D778TD/AI
xPoAQCHUjiT9m/C/BL+bryOcAUC9Y3eknmfxv2s0u9kJSwJAD4j/WFFE8r+r
SWKgvvYCQGCpkp/8HPO/9esaEOaWA0DQe+YmFOfzv7VTRwOURARA+OLZ4jzC
9L9/SIWftOYEQD/7jd/RjvW/Id1K2KOFBUCEEE1uX1f2vzo3hJQZMgZAgLqr
Mf4w979cHs/5AdMGQJwVyzUJ/Pe/9cqN4nCBB0BvBYpuJdj4v5gEXnRSJAhA
ZKYJ6K2l+b8T3rWiAsQIQFRElPMub/q/BX2BVDlxCUD9dr4zwUn7vwCpXq/i
EgpAxVqptL8V/L9ymq+NEsIKQEXTM2rP8vy/vSuICBFuC0DDSMmx18v9vxFK
ciyCDgxAX28fOkyW/r/cLdDTebwMQLMqFffRcf+/sJ4/JOReDUCTy2X6YR8A
wF2vNhEd/g1ATIBGQteDAMCAhaGB3KoOQGH/diTV8ADAregdmw5MD0AF1wcn
iVYBwIidhWDeTg9ACJYIR09YAcBkUu0lrlEPQAxVCWcVWgHAHLy8sE1XD0AT
0wqnoV0BwIqPW8aMYg9AIc8NJ7pkAcBoNpnxCnkPQD3HEyfrcgHAIoQUSAem
D0Bztx8nTY8BwP44fA3XqA9Ad3YgRxORAcDZ7ePSpqsPQHo1IWfZkgHAkFez
XUaxD0CBsyKnZZYBwP8qUnOFvA9Aj68lJ36dAcDc0Y+eA9MPQKqnKyevqwHA
uIb3Y9PVD0CuZixHda0BwJQ7Xymj2A9AsiUtZzuvAcBLpS60Qt4PQLijLqfH
sgHAunjNyYHpD0DGnzEn4LkBwJYtNY9R7A9Ayl4yR6a7AcBx4pxUIe8PQM0d
M2dsvQHAKExs38D0D0DUmzSn+MABwAQB1KSQ9w9A11o1x77CAcDgtTtqYPoP
QNsZNueExAHAvGqjLzD9D0Df2DYHS8YBwJcfC/X//w9A4pc3JxHIAcCUmFnR

          "]]}},
       Annotation[#, "Charting`Private`Tag$8458#1"]& ]}}, {}, {}}},
  AspectRatio->NCache[GoldenRatio^(-1), 0.6180339887498948],
  Axes->{True, True},
  AxesLabel->{
    FormBox["\"Size of Avalanche\"", TraditionalForm], 
    FormBox["\"Frequency of Avalanche\"", TraditionalForm]},
  AxesOrigin->{0, 0},
  DisplayFunction->Identity,
  Frame->{{False, False}, {False, False}},
  FrameLabel->{{None, None}, {None, None}},
  FrameTicks->{{Automatic, Automatic}, {Automatic, Automatic}},
  GridLines->{None, None},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  ImageMargins->0.,
  ImagePadding->All,
  ImageSize->Automatic,
  ImageSizeRaw->Automatic,
  Method->{"CoordinatesToolOptions" -> {"DisplayFunction" -> ({
        (Identity[#]& )[
         Part[#, 1]], 
        (Identity[#]& )[
         Part[#, 2]]}& ), "CopiedValueFunction" -> ({
        (Identity[#]& )[
         Part[#, 1]], 
        (Identity[#]& )[
         Part[#, 2]]}& )}},
  PlotRange->{{0, 0.47712125471966244`}, {0, 0.3010299956639812}},
  PlotRangeClipping->True,
  PlotRangePadding->{{
     Scaled[0.02], 
     Scaled[0.02]}, {
     Scaled[0.02], 
     Scaled[0.05]}},
  Ticks->{Automatic, Automatic}]], "Output",
 CellChangeTimes->{
  3.707179418152236*^9, 3.707180517322948*^9, 3.707180952925025*^9, 
   3.707181103079521*^9, 3.7071812206289883`*^9, 3.707181459988456*^9, 
   3.707182119590823*^9, 3.707182618356271*^9, 3.707182658346887*^9, {
   3.70718270714594*^9, 3.7071827352042933`*^9}, 3.707183654692442*^9, 
   3.707211717782085*^9, 3.70721190757467*^9, 3.7072135641065407`*^9, 
   3.707215460679607*^9, 3.707229243270667*^9, 3.707229288255*^9, 
   3.707229323567857*^9, 3.707229360621254*^9, 3.707229510857108*^9, 
   3.707229828713503*^9, {3.7072530665834846`*^9, 3.7072530708727007`*^9}},
 CellLabel->
  "Out[101]=",ExpressionUUID->"0639b8a2-9189-4387-af65-fcdad91e1ea2"]
}, Open  ]],

Cell["\<\
You may notice a slight bend towards the x-axis in the data. This is because \
our table has an edge which sand falls over. This edge places a limit on the \
maximum avalanche size.\
\>", "Text",
 CellChangeTimes->{{3.700774370934465*^9, 3.700774423028035*^9}, {
  3.707174852543458*^9, 3.7071749032379637`*^9}, {3.7071758118146152`*^9, 
  3.707175875833514*^9}, {3.7071771083476954`*^9, 3.7071771754593353`*^9}, {
  3.7071776082789373`*^9, 3.707177621852748*^9}, {3.7071776949762487`*^9, 
  3.7071777038562183`*^9}, {3.707177758151053*^9, 3.707177823241349*^9}, {
  3.707178133803056*^9, 3.707178134257214*^9}, {3.707178915736081*^9, 
  3.707178924086363*^9}, {3.707182140507987*^9, 3.707182170060007*^9}, {
  3.707182767458064*^9, 3.707182800304083*^9}, {3.7071830944596863`*^9, 
  3.707183102539611*^9}, {3.707183387087039*^9, 3.707183407662314*^9}, {
  3.70718349819773*^9, 3.7071835118598013`*^9}, {3.707185667633718*^9, 
  3.707185727165399*^9}, {3.707229790464576*^9, 
  3.707229807113235*^9}},ExpressionUUID->"d98768ec-9a0a-4aa9-adae-\
f929f221905c"]
}, Open  ]],

Cell[CellGroupData[{

Cell["1/f Noise", "Section",
 CellChangeTimes->{{3.700774708350976*^9, 3.700774714085747*^9}, {
  3.707174296330513*^9, 3.707174300518691*^9}, {3.707175748822316*^9, 
  3.707175762912952*^9}, {3.707178891826811*^9, 3.7071789007255573`*^9}, {
  3.7071819717412033`*^9, 3.70718197835076*^9}, {3.7072145845282497`*^9, 
  3.707214592566082*^9}},ExpressionUUID->"d6a8d954-221a-488c-a67b-\
61c087184dc9"],

Cell["\<\
1/f noise is when the signal frequency is inversely proportional to the power \
spectrum (the distribution of energy among frequency components, in our case \
energy is measured by avalanche size).\
\>", "Text",
 CellChangeTimes->{{3.700774370934465*^9, 3.700774423028035*^9}, {
   3.707174852543458*^9, 3.7071749032379637`*^9}, {3.7071758118146152`*^9, 
   3.707175875833514*^9}, {3.7071771083476954`*^9, 3.7071771754593353`*^9}, {
   3.7071776082789373`*^9, 3.707177621852748*^9}, {3.7071776949762487`*^9, 
   3.7071777038562183`*^9}, {3.707177758151053*^9, 3.707177823241349*^9}, {
   3.707178133803056*^9, 3.707178134257214*^9}, {3.707178915736081*^9, 
   3.707178924086363*^9}, {3.707182140507987*^9, 3.707182170060007*^9}, {
   3.707182767458064*^9, 3.707182800304083*^9}, {3.7071830944596863`*^9, 
   3.707183102539611*^9}, {3.707183387087039*^9, 3.707183407662314*^9}, {
   3.70718349819773*^9, 3.70718351453137*^9}, {3.707183869454015*^9, 
   3.707183873677121*^9}, {3.707183984706479*^9, 3.70718400444561*^9}, {
   3.707184686646596*^9, 3.707184785726939*^9}, {3.707184882473217*^9, 
   3.7071848931177883`*^9}, {3.707185560561223*^9, 3.707185564466838*^9}, 
   3.707212235992454*^9, {3.707214152334824*^9, 3.707214168867745*^9}, {
   3.707214229573268*^9, 3.707214259632963*^9}, 
   3.707214542930472*^9},ExpressionUUID->"c1fef8c8-4314-46df-a919-\
80ff86a3ee17"],

Cell["Let\[CloseCurlyQuote]s look at the power spectrum of our data:", \
"Direction",
 CellChangeTimes->{{3.700774554822753*^9, 3.700774560088324*^9}, {
  3.707175895017067*^9, 3.707175897988942*^9}, {3.7071760614108877`*^9, 
  3.7071760764434977`*^9}, {3.707176120264221*^9, 3.707176148222722*^9}, {
  3.707176299912181*^9, 3.707176316444985*^9}, {3.7071787568558683`*^9, 
  3.7071787574744043`*^9}, {3.70717897417844*^9, 3.707179041500227*^9}, {
  3.70718066956979*^9, 3.707180818277614*^9}, {3.7071809321613073`*^9, 
  3.707180968525175*^9}, {3.707183076236249*^9, 3.7071830768421288`*^9}, {
  3.707183800778666*^9, 3.70718382053718*^9}, {3.7071855914912853`*^9, 
  3.707185633715201*^9}, {3.7072117493189917`*^9, 3.707211758591626*^9}, {
  3.70721284805729*^9, 3.7072128636031427`*^9}, {3.707214143185481*^9, 
  3.7072141474458113`*^9}, {3.707214190604719*^9, 3.7072141920651217`*^9}, {
  3.707214266687358*^9, 
  3.7072142703545017`*^9}},ExpressionUUID->"b7925070-4f88-4874-b9d1-\
ed1080543408"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"ListLinePlot", "[", 
  RowBox[{
   RowBox[{"Abs", "[", 
    RowBox[{"Fourier", "[", "data", "]"}], "]"}], ",", 
   RowBox[{"PlotRange", "\[Rule]", "Full"}]}], "]"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.7072133960538187`*^9, 3.707213411959529*^9}, {
  3.707213442617564*^9, 3.7072134472774363`*^9}, {3.707213724489303*^9, 
  3.707213735203382*^9}, {3.707215044939633*^9, 3.707215132409148*^9}, {
  3.7072151788267517`*^9, 3.707215179710738*^9}},
 CellLabel->
  "In[102]:=",ExpressionUUID->"9045787e-42fd-4bbf-9478-2778eb67d089"],

Cell[BoxData[
 GraphicsBox[{{}, {{{}, {}, {
      {RGBColor[0.368417, 0.506779, 0.709798], PointSize[
       0.019444444444444445`], AbsoluteThickness[1.6], 
       LineBox[{{1., 2.886751345948129}, {2., 1.1547005383792515`}, {3., 
        1.1547005383792515`}}]}}}}, {}, {}, {{}, {}}, {{}, {}}},
  AspectRatio->NCache[GoldenRatio^(-1), 0.6180339887498948],
  Axes->{True, True},
  AxesLabel->{None, None},
  AxesOrigin->{0.96875, 0},
  DisplayFunction->Identity,
  Frame->{{False, False}, {False, False}},
  FrameLabel->{{None, None}, {None, None}},
  FrameTicks->{{Automatic, Automatic}, {Automatic, Automatic}},
  GridLines->{None, None},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  ImagePadding->All,
  Method->{"CoordinatesToolOptions" -> {"DisplayFunction" -> ({
        (Identity[#]& )[
         Part[#, 1]], 
        (Identity[#]& )[
         Part[#, 2]]}& ), "CopiedValueFunction" -> ({
        (Identity[#]& )[
         Part[#, 1]], 
        (Identity[#]& )[
         Part[#, 2]]}& )}},
  PlotRange->{{1., 3.}, {0, 2.886751345948129}},
  PlotRangeClipping->True,
  PlotRangePadding->{{
     Scaled[0.02], 
     Scaled[0.02]}, {
     Scaled[0.02], 
     Scaled[0.05]}},
  Ticks->{Automatic, Automatic}]], "Output",
 CellChangeTimes->{
  3.707213736012692*^9, {3.707215061612523*^9, 3.7072151328310423`*^9}, 
   3.707215180156754*^9, 3.707215460777533*^9, 3.707229243876402*^9, 
   3.7072292884996157`*^9, 3.7072293237416058`*^9, 3.70722936073132*^9, 
   3.707229510931657*^9, 3.7072298287750607`*^9, {3.707253066648849*^9, 
   3.7072530709247103`*^9}},
 CellLabel->
  "Out[102]=",ExpressionUUID->"c6a7c628-83f2-4bee-a365-f9a2fafb240a"]
}, Open  ]],

Cell["\<\
We can see the spectrum falls off quickly with frequency, notice the peak \
close to the y-axis.\
\>", "Text",
 CellChangeTimes->{{3.700774370934465*^9, 3.700774423028035*^9}, {
   3.707174852543458*^9, 3.7071749032379637`*^9}, {3.7071758118146152`*^9, 
   3.707175875833514*^9}, {3.7071771083476954`*^9, 3.7071771754593353`*^9}, {
   3.7071776082789373`*^9, 3.707177621852748*^9}, {3.7071776949762487`*^9, 
   3.7071777038562183`*^9}, {3.707177758151053*^9, 3.707177823241349*^9}, {
   3.707178133803056*^9, 3.707178134257214*^9}, {3.707178915736081*^9, 
   3.707178924086363*^9}, {3.707182140507987*^9, 3.707182170060007*^9}, {
   3.707182767458064*^9, 3.707182800304083*^9}, {3.7071830944596863`*^9, 
   3.707183102539611*^9}, {3.707183387087039*^9, 3.707183407662314*^9}, {
   3.70718349819773*^9, 3.70718351453137*^9}, {3.707183869454015*^9, 
   3.707183873677121*^9}, {3.707183984706479*^9, 3.70718400444561*^9}, {
   3.707184686646596*^9, 3.707184785726939*^9}, {3.707184882473217*^9, 
   3.7071848931177883`*^9}, {3.707185560561223*^9, 3.707185564466838*^9}, 
   3.707212235992454*^9, {3.707214152334824*^9, 3.707214168867745*^9}, {
   3.707214229573268*^9, 3.707214303595944*^9}, {3.707215236944422*^9, 
   3.707215255125847*^9}},ExpressionUUID->"eeb4c2a0-5142-4cfe-8708-\
6c604c56a789"]
}, Open  ]],

Cell[CellGroupData[{

Cell["So where is the criticality?", "Section",
 CellChangeTimes->{{3.700774708350976*^9, 3.700774714085747*^9}, {
  3.707174296330513*^9, 3.707174300518691*^9}, {3.707175748822316*^9, 
  3.707175762912952*^9}, {3.707178891826811*^9, 3.7071789007255573`*^9}, {
  3.7071819717412033`*^9, 3.70718197835076*^9}, {3.707214886624523*^9, 
  3.707214888117293*^9}},ExpressionUUID->"7f748ea2-f554-4221-a4eb-\
0c6956e3f98d"],

Cell["\<\
If you were to experiment with different grid sizes (which you can!) you \
would find that the avalanches are scale-free. This means the only thing that \
distinguishes a small avalanche from a large one is the number of cells \
involved. It also means that running the experiment and linearly fitting the \
data would provide a similar \[Alpha] value. This scale-invariance is \
characteristic of critical systems. \
\>", "Text",
 CellChangeTimes->{{3.700774370934465*^9, 3.700774423028035*^9}, {
  3.707174852543458*^9, 3.7071749032379637`*^9}, {3.7071758118146152`*^9, 
  3.707175875833514*^9}, {3.7071771083476954`*^9, 3.7071771754593353`*^9}, {
  3.7071776082789373`*^9, 3.707177621852748*^9}, {3.7071776949762487`*^9, 
  3.7071777038562183`*^9}, {3.707177758151053*^9, 3.707177823241349*^9}, {
  3.707178133803056*^9, 3.707178134257214*^9}, {3.707178915736081*^9, 
  3.707178924086363*^9}, {3.707182140507987*^9, 3.707182170060007*^9}, {
  3.707185871926381*^9, 3.707185899954379*^9}, {3.7071859661684732`*^9, 
  3.707186101740464*^9}, {3.7072287429530697`*^9, 
  3.707228742953334*^9}},ExpressionUUID->"e27fd655-a940-4e47-8164-\
c5571aae211e"],

Cell["\<\
Try running the experiment with a larger table. This can be done by adjusting \
gridSize in the first code-block and re-evaluating the notebook.\
\>", "Direction",
 CellChangeTimes->{{3.707228744984617*^9, 3.7072288064221983`*^9}, {
   3.707228921588574*^9, 3.707228983132388*^9}, 
   3.707253461335409*^9},ExpressionUUID->"1b83bbc0-cc92-4db3-ab42-\
2174d237a856"],

Cell["\<\
Additionally, in critical systems the impact of small localized perturbation \
can be felt across the whole system. Meaning adding a single grain of sand \
can cause an avalanche which reshapes the entire landscape.\
\>", "Text",
 CellChangeTimes->{{3.700774370934465*^9, 3.700774423028035*^9}, {
   3.707174852543458*^9, 3.7071749032379637`*^9}, {3.7071758118146152`*^9, 
   3.707175875833514*^9}, {3.7071771083476954`*^9, 3.7071771754593353`*^9}, {
   3.7071776082789373`*^9, 3.707177621852748*^9}, {3.7071776949762487`*^9, 
   3.7071777038562183`*^9}, {3.707177758151053*^9, 3.707177823241349*^9}, {
   3.707178133803056*^9, 3.707178134257214*^9}, {3.707178915736081*^9, 
   3.707178924086363*^9}, {3.70718224562469*^9, 3.7071822732468863`*^9}, {
   3.707186103927815*^9, 3.707186146789649*^9}, 3.707212033286455*^9, {
   3.70722885117929*^9, 
   3.707228854187519*^9}},ExpressionUUID->"8a1c1785-58e8-4c08-882b-\
e5fd679b83bd"],

Cell["\<\
Observe how adding a single grain of sand can reshape the landscape:\
\>", "Direction",
 CellChangeTimes->{{3.707228744984617*^9, 3.7072288064221983`*^9}, {
  3.707228921588574*^9, 3.707228983132388*^9}, {3.707229119017518*^9, 
  3.707229133842471*^9}},ExpressionUUID->"cb7eb04a-4d62-41ee-a732-\
b53561c6aff7"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"sandTable", " ", "=", " ", 
   RowBox[{"Table", "[", 
    RowBox[{"4.", ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", "gridSize"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"j", ",", "1", ",", "gridSize"}], "}"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", "printArray"}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.707229046211351*^9, 3.7072290949920597`*^9}, {
  3.707229135652994*^9, 3.7072291366850157`*^9}, {3.707229572905105*^9, 
  3.7072296030326443`*^9}, {3.707229641942438*^9, 3.707229668507868*^9}, {
  3.707229702376491*^9, 3.707229705905842*^9}},
 CellLabel->
  "In[103]:=",ExpressionUUID->"c207f144-e4a5-466f-b5be-4e22f09c128b"],

Cell[BoxData[
 GraphicsBox[{RasterBox[CompressedData["
1:eJxTTMoPSmVmYGDggGIQGwI+2DNgBaPio+Kj4qPio+LDVRwApMVNgA==
    "], {{0, 0}, {8, 8}}, {0, 1}], {{
     {GrayLevel[
       NCache[-1 + GoldenRatio, 0.6180339887498949]], 
      StyleBox[
       LineBox[{{{0, 8}, {8, 8}}, {{0, 7}, {8, 7}}, {{0, 6}, {8, 6}}, {{0, 
        5}, {8, 5}}, {{0, 4}, {8, 4}}, {{0, 3}, {8, 3}}, {{0, 2}, {8, 2}}, {{
        0, 1}, {8, 1}}, {{0, 0}, {8, 0}}}],
       Antialiasing->False]}}, {
     {GrayLevel[
       NCache[-1 + GoldenRatio, 0.6180339887498949]], 
      StyleBox[
       LineBox[{{{0, 0}, {0, 8}}, {{1, 0}, {1, 8}}, {{2, 0}, {2, 8}}, {{3, 
        0}, {3, 8}}, {{4, 0}, {4, 8}}, {{5, 0}, {5, 8}}, {{6, 0}, {6, 8}}, {{
        7, 0}, {7, 8}}, {{8, 0}, {8, 8}}}],
       Antialiasing->False]}}}},
  Epilog->{
    GrayLevel[1], 
    DiskBox[{2.5, 4.5}, 0.2]},
  Frame->False,
  FrameLabel->{None, None},
  FrameTicks->{{None, None}, {None, None}},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  Method->{
   "DefaultBoundaryStyle" -> Automatic, "DefaultPlotStyle" -> 
    Automatic}]], "Output",
 CellChangeTimes->{{3.7072290604434443`*^9, 3.707229082053935*^9}, 
   3.707229243981395*^9, 3.707229288768697*^9, 3.707229323885625*^9, 
   3.707229360772996*^9, 3.707229511007927*^9, 3.707229574579458*^9, {
   3.7072297033294888`*^9, 3.7072297157213173`*^9}, 3.707229757228653*^9, 
   3.707229828854474*^9, {3.7072530666943007`*^9, 3.707253070972487*^9}},
 CellLabel->
  "Out[104]=",ExpressionUUID->"07480d0c-01e4-4c88-b872-3911a1b0e52a"]
}, Open  ]],

Cell["Now take one step:", "Direction",
 CellChangeTimes->{{3.707228744984617*^9, 3.7072288064221983`*^9}, {
  3.707228921588574*^9, 3.707228983132388*^9}, {3.707229119017518*^9, 
  3.707229154049097*^9}},ExpressionUUID->"1e5debb1-a827-4b10-9792-\
99b73a3033cf"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"takeStep", ";"}], "\[IndentingNewLine]", "printArray"}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.707229046211351*^9, 3.7072290949920597`*^9}, {
  3.707229135652994*^9, 3.7072291366850157`*^9}, {3.7072291943932323`*^9, 
  3.707229197192902*^9}, {3.7072292688924723`*^9, 3.707229282147174*^9}},
 CellLabel->
  "In[105]:=",ExpressionUUID->"5cae7b31-8a19-4bf7-b397-0c4248cb7cd4"],

Cell[BoxData[
 GraphicsBox[{RasterBox[CompressedData["
1:eJxTTMoPSmVmYGDggGIQGxV8sMfPH2hxXPLUUj9Q7hwo86llDr38NVjcSar7
cYkPNncOtvRDa/OHejlDub8ABMhOrw==
    "], {{0, 0}, {8, 8}}, {0, 1}], {{
     {GrayLevel[
       NCache[-1 + GoldenRatio, 0.6180339887498949]], 
      StyleBox[
       LineBox[{{{0, 8}, {8, 8}}, {{0, 7}, {8, 7}}, {{0, 6}, {8, 6}}, {{0, 
        5}, {8, 5}}, {{0, 4}, {8, 4}}, {{0, 3}, {8, 3}}, {{0, 2}, {8, 2}}, {{
        0, 1}, {8, 1}}, {{0, 0}, {8, 0}}}],
       Antialiasing->False]}}, {
     {GrayLevel[
       NCache[-1 + GoldenRatio, 0.6180339887498949]], 
      StyleBox[
       LineBox[{{{0, 0}, {0, 8}}, {{1, 0}, {1, 8}}, {{2, 0}, {2, 8}}, {{3, 
        0}, {3, 8}}, {{4, 0}, {4, 8}}, {{5, 0}, {5, 8}}, {{6, 0}, {6, 8}}, {{
        7, 0}, {7, 8}}, {{8, 0}, {8, 8}}}],
       Antialiasing->False]}}}},
  Epilog->{
    GrayLevel[1], 
    DiskBox[{4.5, 3.5}, 0.2]},
  Frame->False,
  FrameLabel->{None, None},
  FrameTicks->{{None, None}, {None, None}},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  Method->{
   "DefaultBoundaryStyle" -> Automatic, "DefaultPlotStyle" -> 
    Automatic}]], "Output",
 CellChangeTimes->{{3.7072292456964903`*^9, 3.7072292888828077`*^9}, {
   3.707229323938159*^9, 3.707229363298839*^9}, 3.7072295110782537`*^9, {
   3.7072295631044073`*^9, 3.707229578093493*^9}, {3.707229709526608*^9, 
   3.7072297196758204`*^9}, 3.7072297608349447`*^9, 3.707229830857387*^9, {
   3.707253069448658*^9, 3.7072530739265633`*^9}},
 CellLabel->
  "Out[106]=",ExpressionUUID->"d033eccd-b942-43dd-acf4-7ead48e09bf7"]
}, Open  ]],

Cell["\<\
The criticality in this system lies in the angle of repose. If the sandpile \
slope was too shallow then an avalanche would do nothing but cause isolated \
changes. If the angle was too steep then the disruptions would always be \
large and felt across big portions of the system. At the critical angle the \
addition of a single grain of sand can do nothing, or reshape the landscape, \
and everything in between. This is only possible at the critical state, and \
this is the state we find the sandpile in. What is interesting about this \
system is that the critical state was achieved naturally without fine tuning \
external parameters, thus the system demonstrated self-organized criticality.\
\>", "Text",
 CellChangeTimes->{{3.700774370934465*^9, 3.700774423028035*^9}, {
  3.707174852543458*^9, 3.7071749032379637`*^9}, {3.7071758118146152`*^9, 
  3.707175875833514*^9}, {3.7071771083476954`*^9, 3.7071771754593353`*^9}, {
  3.7071776082789373`*^9, 3.707177621852748*^9}, {3.7071776949762487`*^9, 
  3.7071777038562183`*^9}, {3.707177758151053*^9, 3.707177823241349*^9}, {
  3.707178133803056*^9, 3.707178134257214*^9}, {3.707178915736081*^9, 
  3.707178924086363*^9}, {3.7071823276557283`*^9, 3.707182338187495*^9}, {
  3.70718239141325*^9, 3.707182410929236*^9}, {3.7071861508673773`*^9, 
  3.70718615980515*^9}, {3.707186225214031*^9, 3.707186393131809*^9}, {
  3.7072120513331738`*^9, 3.707212103981703*^9}, {3.7072149885908012`*^9, 
  3.707214989168507*^9}, {3.707229516819252*^9, 
  3.70722951704381*^9}},ExpressionUUID->"e6200141-8162-4d6c-bf38-\
e9a1e86215c9"],

Cell["\<\
Here is a subcritical sandpile, adding a grain of sand will only cause a \
small change in landscape:\
\>", "Direction",
 CellChangeTimes->{{3.707228744984617*^9, 3.7072288064221983`*^9}, {
  3.707229539189288*^9, 3.707229541124956*^9}, {3.707253505979784*^9, 
  3.707253507965672*^9}},ExpressionUUID->"7fb2878f-4a4b-436e-9f33-\
70782c11a0bb"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"sandTable", " ", "=", " ", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"N", "@", 
      RowBox[{"RandomInteger", "[", 
       RowBox[{"{", 
        RowBox[{"1", ",", "2"}], "}"}], "]"}]}], ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", "gridSize"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"j", ",", "1", ",", "gridSize"}], "}"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", "printArray"}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.707228676890163*^9, 3.7072287769664717`*^9}, {
  3.707229729109397*^9, 3.707229739963366*^9}},
 CellLabel->
  "In[107]:=",ExpressionUUID->"3179f701-72ca-4793-a5fa-6f60d07b879a"],

Cell[BoxData[
 GraphicsBox[{RasterBox[CompressedData["
1:eJxTTMoPSmVmYGDggGIQGxV8sMcQwitOrj5aiZPqTmqpp1b4DDb3kCpO63Cg
ln+HenoebPFLa/cMlXxN63RLLXsR8gDoMU2A
    "], {{0, 0}, {8, 8}}, {0, 1}], {{
     {GrayLevel[
       NCache[-1 + GoldenRatio, 0.6180339887498949]], 
      StyleBox[
       LineBox[{{{0, 8}, {8, 8}}, {{0, 7}, {8, 7}}, {{0, 6}, {8, 6}}, {{0, 
        5}, {8, 5}}, {{0, 4}, {8, 4}}, {{0, 3}, {8, 3}}, {{0, 2}, {8, 2}}, {{
        0, 1}, {8, 1}}, {{0, 0}, {8, 0}}}],
       Antialiasing->False]}}, {
     {GrayLevel[
       NCache[-1 + GoldenRatio, 0.6180339887498949]], 
      StyleBox[
       LineBox[{{{0, 0}, {0, 8}}, {{1, 0}, {1, 8}}, {{2, 0}, {2, 8}}, {{3, 
        0}, {3, 8}}, {{4, 0}, {4, 8}}, {{5, 0}, {5, 8}}, {{6, 0}, {6, 8}}, {{
        7, 0}, {7, 8}}, {{8, 0}, {8, 8}}}],
       Antialiasing->False]}}}},
  Epilog->{
    GrayLevel[1], 
    DiskBox[{4.5, 3.5}, 0.2]},
  Frame->False,
  FrameLabel->{None, None},
  FrameTicks->{{None, None}, {None, None}},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  Method->{
   "DefaultBoundaryStyle" -> Automatic, "DefaultPlotStyle" -> 
    Automatic}]], "Output",
 CellChangeTimes->{
  3.707228838215372*^9, 3.707229245777959*^9, 3.707229288934311*^9, 
   3.7072293239849567`*^9, 3.707229363370735*^9, 3.707229511135392*^9, 
   3.707229751937414*^9, 3.7072298309341784`*^9, {3.707253069558125*^9, 
   3.7072530740000067`*^9}},
 CellLabel->
  "Out[108]=",ExpressionUUID->"cf366672-35ac-43c7-a7b4-001821264e61"]
}, Open  ]],

Cell["\<\
Here is a supercritical sandpile, adding a grain of sand will change the \
entire landscape:\
\>", "Direction",
 CellChangeTimes->{{3.707228744984617*^9, 3.707228781239582*^9}, {
  3.707228812057563*^9, 3.707228826757616*^9}, {3.7072535123454514`*^9, 
  3.707253514450419*^9}},ExpressionUUID->"33027123-4a9a-4f60-a46b-\
ffef566924be"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"sandTable", "=", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"N", "@", 
      RowBox[{"RandomInteger", "[", 
       RowBox[{"{", 
        RowBox[{"3", ",", "4"}], "}"}], "]"}]}], ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", "gridSize"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"j", ",", "1", ",", "gridSize"}], "}"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", "printArray"}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.707229745267376*^9, 3.707229748769163*^9}},
 CellLabel->
  "In[109]:=",ExpressionUUID->"604fa0c4-2c9b-4bc0-8c61-533c5aea0f63"],

Cell[BoxData[
 GraphicsBox[{RasterBox[CompressedData["
1:eJxTTMoPSmVmYGDggGIQGwI+2KPStBJHB9QWp5a9AxUOgy38B5u91HIntcwZ
qHCmlvm0dudQCR9S7aWWOQNVniAAAD0seBw=
    "], {{0, 0}, {8, 8}}, {0, 1}], {{
     {GrayLevel[
       NCache[-1 + GoldenRatio, 0.6180339887498949]], 
      StyleBox[
       LineBox[{{{0, 8}, {8, 8}}, {{0, 7}, {8, 7}}, {{0, 6}, {8, 6}}, {{0, 
        5}, {8, 5}}, {{0, 4}, {8, 4}}, {{0, 3}, {8, 3}}, {{0, 2}, {8, 2}}, {{
        0, 1}, {8, 1}}, {{0, 0}, {8, 0}}}],
       Antialiasing->False]}}, {
     {GrayLevel[
       NCache[-1 + GoldenRatio, 0.6180339887498949]], 
      StyleBox[
       LineBox[{{{0, 0}, {0, 8}}, {{1, 0}, {1, 8}}, {{2, 0}, {2, 8}}, {{3, 
        0}, {3, 8}}, {{4, 0}, {4, 8}}, {{5, 0}, {5, 8}}, {{6, 0}, {6, 8}}, {{
        7, 0}, {7, 8}}, {{8, 0}, {8, 8}}}],
       Antialiasing->False]}}}},
  Epilog->{
    GrayLevel[1], 
    DiskBox[{4.5, 3.5}, 0.2]},
  Frame->False,
  FrameLabel->{None, None},
  FrameTicks->{{None, None}, {None, None}},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  Method->{
   "DefaultBoundaryStyle" -> Automatic, "DefaultPlotStyle" -> 
    Automatic}]], "Output",
 CellChangeTimes->{{3.707228728892084*^9, 3.707228735466208*^9}, 
   3.7072288423807163`*^9, 3.707229245847928*^9, 3.707229288970069*^9, 
   3.7072293241009083`*^9, 3.707229363594441*^9, 3.7072295111728067`*^9, 
   3.7072297495554647`*^9, 3.707229830976301*^9, {3.707253069600422*^9, 
   3.707253074043399*^9}},
 CellLabel->
  "Out[110]=",ExpressionUUID->"4d9fcb62-cb98-4797-99ad-10e0af80f8ea"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Further Explorations", "FurtherExplorationSection",
 CellChangeTimes->{{3.70077612322993*^9, 3.7007761320921593`*^9}, {
  3.7007787731699142`*^9, 
  3.70077877480995*^9}},ExpressionUUID->"b9532093-d59d-4bda-839f-\
ceb7c0b6d676"],

Cell["\<\
Find examples of large and small avalanches in the experiment.\
\>", "FurtherExploration",
 CellChangeTimes->{{3.7071806390625277`*^9, 3.707180645517724*^9}, {
  3.707182818070373*^9, 3.707182841538609*^9}, {3.7072119399090223`*^9, 
  3.707211939909649*^9}, {3.7072122805456944`*^9, 
  3.707212292275277*^9}},ExpressionUUID->"3dbe7f83-0e80-49c0-9428-\
f1dc4a681819"],

Cell["\<\
Change the rules for how sand is distributed when a cell topples.\
\>", "FurtherExploration",
 CellChangeTimes->{{3.7071806390625277`*^9, 3.707180645517724*^9}, {
  3.707182818070373*^9, 3.707182841538609*^9}, {3.7072119399090223`*^9, 
  3.707211939909649*^9}},ExpressionUUID->"f9afc984-c5eb-4422-a91b-\
b5d447f8e05d"],

Cell["Investigate the topography of the sandpile landscape.", \
"FurtherExploration",
 CellChangeTimes->{{3.707211884132051*^9, 3.707211932612952*^9}, {
  3.7072123032491417`*^9, 
  3.7072123519828997`*^9}},ExpressionUUID->"7cfad521-a059-4a62-abb5-\
4c5ae2ee387b"],

Cell["Increase the number of steps in the experiment.", "FurtherExploration",
 CellChangeTimes->{{3.707211884132051*^9, 3.707211932612952*^9}, {
  3.707211966340268*^9, 
  3.707211974851571*^9}},ExpressionUUID->"43b22134-d694-4bf4-b97f-\
eb6b83dc5a74"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Authorship information", "AuthorshipSection",
 CellChangeTimes->{{3.705105762145127*^9, 
  3.7051057665253773`*^9}},ExpressionUUID->"3dea23e4-8ce7-4f0e-a74f-\
75530771ceb4"],

Cell["Leo McElroy", "Authorship",
 CellChangeTimes->{{3.7051057700535793`*^9, 3.7051057808261957`*^9}, {
  3.70568563501264*^9, 3.705685638779039*^9}, {3.7071806125860043`*^9, 
  3.707180614817213*^9}},ExpressionUUID->"ef51fcfa-04d2-4784-8dbe-\
807cb03d6aee"],

Cell["2017/06/23", "Authorship",
 CellChangeTimes->{{3.705105786521521*^9, 3.7051057998362827`*^9}, {
  3.7056856803452597`*^9, 3.7056856907368*^9}, {3.707180617356835*^9, 
  3.7071806207938147`*^9}},ExpressionUUID->"092e4792-1266-4a76-8414-\
57286b1485fa"],

Cell["leomcelroy@gmail.com", "Authorship",
 CellChangeTimes->{{3.7051058070526953`*^9, 3.705105841815684*^9}, {
  3.70568569576152*^9, 3.705685700554084*^9}, {3.707180623021994*^9, 
  3.707180627549068*^9}},ExpressionUUID->"31b6b083-ffa9-44da-82f1-\
894e81f42335"]
}, Open  ]]
}, Open  ]]
},
WindowSize->{1127, 911},
WindowMargins->{{103, Automatic}, {Automatic, 0}},
CellLabelAutoDelete->False,
FrontEndVersion->"11.1 for Mac OS X x86 (32-bit, 64-bit Kernel) (March 16, \
2017)",
StyleDefinitions->Notebook[{
   Cell[
    StyleData[StyleDefinitions -> "Default.nb"]], 
   Cell[
    StyleData["Title"], FontFamily -> "Source Sans Pro", FontTracking -> -0.8,
     FontColor -> RGBColor[0.65, 0, 0]], 
   Cell[
    StyleData["Abstract", StyleDefinitions -> StyleData["Text"]], FontSize -> 
    16, FontSlant -> "Italic", FontColor -> GrayLevel[0.4]], 
   Cell[
    StyleData["Section"], CellFrame -> False, ReturnCreatesNewCell -> True, 
    DefaultReturnCreatedCellStyle -> "Text", FontFamily -> "Source Sans Pro", 
    FontTracking -> -0.5], 
   Cell[
    StyleData["FurtherExplorationSection"], 
    CellMargins -> {{28, Inherited}, {6, 24}}, 
    CellGroupingRules -> {"SectionGrouping", 30}, DefaultNewCellStyle -> 
    "FurtherExploration", FontFamily -> "Source Sans Pro Semibold", FontSize -> 
    22, FontColor -> GrayLevel[0.35]], 
   Cell[
    StyleData["FurtherExploration", StyleDefinitions -> StyleData["Text"]], 
    CellMargins -> {{66, 10}, {5, 5}}, ReturnCreatesNewCell -> True, FontSize -> 
    14, FontWeight -> "Bold", FontColor -> GrayLevel[0.5]], 
   Cell[
    StyleData["AuthorshipSection"], CellMargins -> {{28, Inherited}, {6, 24}},
     CellGroupingRules -> {"SectionGrouping", 30}, DefaultNewCellStyle -> 
    "FurtherExploration", FontFamily -> "Source Sans Pro Semibold", FontSize -> 
    22, FontColor -> GrayLevel[0.35]], 
   Cell[
    StyleData["Authorship", StyleDefinitions -> StyleData["Text"]], 
    CellMargins -> {{66, 10}, {4, 4}}, ReturnCreatesNewCell -> True, FontSize -> 
    14, FontColor -> GrayLevel[0.5]], 
   Cell[
    StyleData["Text"], ReturnCreatesNewCell -> True, DefaultNewCellStyle -> 
    "Direction", DefaultReturnCreatedCellStyle -> "Direction"], 
   Cell[
    StyleData["Direction", StyleDefinitions -> StyleData["Text"]], 
    CellDingbat -> 
    StyleBox["\[FilledSmallSquare]", FontColor -> GrayLevel[0.7]], 
    CellMargins -> {{78, 10}, {6, 7}}, CellFrameLabelMargins -> 4, 
    DefaultReturnCreatedCellStyle -> "Input", MenuSortingValue -> 10000, 
    MenuCommandKey -> "8", FontSize -> 14, FontWeight -> "Plain", FontColor -> 
    GrayLevel[0.4]], 
   Cell[
    StyleData["Code"], MenuCommandKey -> None]}, Visible -> False, 
  FrontEndVersion -> 
  "11.1 for Mac OS X x86 (32-bit, 64-bit Kernel) (March 16, 2017)", 
  StyleDefinitions -> "PrivateStylesheetFormatting.nb"]
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[583, 22, 239, 4, 97, "Title", "ExpressionUUID" -> \
"20d6092e-b2cf-4470-a22a-72097b825329"],
Cell[825, 28, 476, 9, 55, "Abstract", "ExpressionUUID" -> \
"80f79efe-4557-4cec-8a49-741932455df0"],
Cell[CellGroupData[{
Cell[1326, 41, 260, 4, 62, "Section", "ExpressionUUID" -> \
"601ecc6d-829b-49bf-b3f8-b71c3d8dff03"],
Cell[1589, 47, 541, 9, 30, "Text", "ExpressionUUID" -> \
"9c9831d7-4344-49d0-971c-8b79594be7ef"],
Cell[2133, 58, 378, 6, 31, "Direction", "ExpressionUUID" -> \
"ce23dc15-1a79-4b3a-b2f0-cf57149c507a"],
Cell[2514, 66, 163, 3, 48, "Input", "ExpressionUUID" -> \
"2ccbcc0f-2983-4b0d-a9fc-66160ac1c82a",
 InitializationCell->True],
Cell[2680, 71, 413, 7, 31, "Direction", "ExpressionUUID" -> \
"94bec468-5087-4807-b2e0-60688b492b45"],
Cell[CellGroupData[{
Cell[3118, 82, 851, 19, 70, "Input", "ExpressionUUID" -> \
"564ff60d-2ca5-4d56-8988-5ccb2353b3c1",
 InitializationCell->True],
Cell[3972, 103, 2043, 39, 374, "Output", "ExpressionUUID" -> \
"d431ec43-fab3-44c3-b78f-7df7f7b1e3cc"]
}, Open  ]],
Cell[6030, 145, 316, 7, 30, "Text", "ExpressionUUID" -> \
"04c776ac-58d6-4522-8efc-cd5e9938473e"],
Cell[6349, 154, 506, 10, 31, "Direction", "ExpressionUUID" -> \
"6078d336-2492-4e68-aa05-c2f172bbd438"],
Cell[CellGroupData[{
Cell[6880, 168, 589, 12, 48, "Input", "ExpressionUUID" -> \
"e1fad0c0-fedc-43d8-9111-879cf1cf6386",
 InitializationCell->True],
Cell[7472, 182, 7159, 180, 32, "Output", "ExpressionUUID" -> \
"a3de1016-ec23-410e-984b-744e4a886136"]
}, Open  ]],
Cell[14646, 365, 561, 9, 31, "Direction", "ExpressionUUID" -> \
"9538ad31-9137-4471-a2bb-6d12351af01c"],
Cell[CellGroupData[{
Cell[15232, 378, 794, 20, 70, "Input", "ExpressionUUID" -> \
"ad176137-5d51-4cdf-be5a-4dfe5cd8b2cf",
 InitializationCell->True],
Cell[16029, 400, 1818, 38, 374, "Output", "ExpressionUUID" -> \
"8d3c6092-73b6-413f-9994-463cb5236309"]
}, Open  ]],
Cell[17862, 441, 405, 8, 49, "Text", "ExpressionUUID" -> \
"6f41c136-1d08-453e-b0c5-50156b3fb753"],
Cell[18270, 451, 372, 7, 31, "Direction", "ExpressionUUID" -> \
"b3f6a33e-86a4-4960-8b62-98c6c02d6052"],
Cell[CellGroupData[{
Cell[18667, 462, 1231, 33, 112, "Input", "ExpressionUUID" -> \
"8654a732-261c-406f-9d3a-f918919d9ffe",
 InitializationCell->True],
Cell[19901, 497, 916, 15, 32, "Output", "ExpressionUUID" -> \
"0f679b93-66b3-4f3f-8fba-2a276b88710c"],
Cell[20820, 514, 2024, 43, 374, "Output", "ExpressionUUID" -> \
"4443fa23-5f1f-469e-9cdb-64f1a1797682"]
}, Open  ]],
Cell[22859, 560, 509, 10, 31, "Direction", "ExpressionUUID" -> \
"dc2b8755-0191-4b45-8338-979fdfccba7f"],
Cell[CellGroupData[{
Cell[23393, 574, 1044, 29, 91, "Input", "ExpressionUUID" -> \
"6c4df0ad-407d-4ddd-92c4-ee7f16d6eb60",
 InitializationCell->True],
Cell[24440, 605, 1889, 41, 374, "Output", "ExpressionUUID" -> \
"8654bfdf-a847-46a1-8ec2-fefa19e3215f"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[26378, 652, 266, 4, 62, "Section", "ExpressionUUID" -> \
"369d899b-de3c-49b0-b7eb-519cb686ffeb"],
Cell[26647, 658, 383, 8, 30, "Text", "ExpressionUUID" -> \
"9762a70d-47b6-4138-907e-abf6013157a9"],
Cell[27033, 668, 187, 3, 31, "Direction", "ExpressionUUID" -> \
"589404f5-64fd-4b3b-9707-c45f082fa5b1"],
Cell[CellGroupData[{
Cell[27245, 675, 2319, 62, 133, "Input", "ExpressionUUID" -> \
"13c5811d-c643-43d7-a0e2-b79261f2e9a8",
 InitializationCell->True],
Cell[29567, 739, 2350, 47, 374, "Output", "ExpressionUUID" -> \
"3b89fd0f-fc94-4044-9b85-cfe45c0f55ca"]
}, Open  ]],
Cell[31932, 789, 448, 6, 31, "Direction", "ExpressionUUID" -> \
"3bf2ae50-589d-4dfb-98e6-71bbb3f3496d"],
Cell[CellGroupData[{
Cell[32405, 799, 1279, 32, 91, "Input", "ExpressionUUID" -> \
"bd847728-192a-4731-b840-d11d4c8f6a82",
 InitializationCell->True],
Cell[33687, 833, 1949, 41, 374, "Output", "ExpressionUUID" -> \
"e1f9ef48-2b7f-4758-917e-0864fd0d0eb3"]
}, Open  ]],
Cell[35651, 877, 570, 10, 31, "Direction", "ExpressionUUID" -> \
"49358a6d-6654-4fa3-8f1f-1fdc3a40e1e6"],
Cell[CellGroupData[{
Cell[36246, 891, 2320, 66, 133, "Input", "ExpressionUUID" -> \
"b580f0d5-2a34-4267-bb3e-6bb4e11c407d",
 InitializationCell->True],
Cell[38569, 959, 2257, 45, 374, "Output", "ExpressionUUID" -> \
"cc1e3062-4a5f-41bd-8c4f-418f0f392c99"]
}, Open  ]],
Cell[40841, 1007, 523, 9, 30, "Text", "ExpressionUUID" -> \
"66f0539f-5b8f-4be2-b3a9-8c5147a502e8"],
Cell[41367, 1018, 580, 8, 31, "Direction", "ExpressionUUID" -> \
"57d5366c-2f91-4112-a78a-eb8f93b84cdd"],
Cell[41950, 1028, 3763, 97, 301, "Input", "ExpressionUUID" -> \
"ebebe772-4434-4baa-ab62-d767003f91a0",
 InitializationCell->True],
Cell[45716, 1127, 642, 11, 31, "Direction", "ExpressionUUID" -> \
"a412849e-c081-4540-b76a-8c533bdcbbd1"],
Cell[CellGroupData[{
Cell[46383, 1142, 802, 19, 70, "Input", "ExpressionUUID" -> \
"2d447556-fc2e-4670-ad72-dcbaac67ff6c",
 InitializationCell->True],
Cell[CellGroupData[{
Cell[47210, 1165, 1752, 40, 367, "Print", "ExpressionUUID" -> \
"9755e6db-fb26-45b7-9479-ac4979a5a75f"],
Cell[48965, 1207, 1776, 40, 367, "Print", "ExpressionUUID" -> \
"1cdfe2ab-e2d8-49fd-aff6-c2354f07e5f6"]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[50802, 1254, 306, 5, 62, "Section", "ExpressionUUID" -> \
"e0bbb09e-7f08-49ff-a9c8-cacd3fb3f34b"],
Cell[51111, 1261, 713, 12, 30, "Text", "ExpressionUUID" -> \
"bf5fbfd7-5432-4d8c-9422-36be18c77b17"],
Cell[51827, 1275, 653, 9, 31, "Direction", "ExpressionUUID" -> \
"89d1ca40-0109-416c-947b-ce90ec831299"],
Cell[52483, 1286, 1529, 36, 217, "Input", "ExpressionUUID" -> \
"3fe5c8d8-86a9-474c-9101-ca5d412ac9ce",
 InitializationCell->True],
Cell[54015, 1324, 738, 11, 31, "Direction", "ExpressionUUID" -> \
"9571de69-fc1f-4f3f-8b03-88d74d61f141"],
Cell[CellGroupData[{
Cell[54778, 1339, 2167, 47, 175, "Input", "ExpressionUUID" -> \
"154426e8-a56b-4fc1-b537-12c3647f7943",
 InitializationCell->True],
Cell[56948, 1388, 30487, 664, 451, "Output", "ExpressionUUID" -> \
"a96e0985-80d5-424d-b19b-9b276e978c60"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[87484, 2058, 432, 6, 62, "Section", "ExpressionUUID" -> \
"fcd0dcee-9825-4599-9dd2-a15d2c5e9877"],
Cell[87919, 2066, 834, 14, 49, "Text", "ExpressionUUID" -> \
"16102c31-5aa8-4437-aa29-21da783800a9"],
Cell[88756, 2082, 668, 12, 31, "Direction", "ExpressionUUID" -> \
"3adf6ca5-9f14-4a81-bda1-dc6a9fa0b03c"],
Cell[CellGroupData[{
Cell[89449, 2098, 593, 12, 70, "Input", "ExpressionUUID" -> \
"b8af9c4b-37f3-4683-ae21-619f779a4781",
 InitializationCell->True],
Cell[90045, 2112, 3012, 71, 240, "Output", "ExpressionUUID" -> \
"0ce746bb-e8d2-4f73-b9ba-3a942cc786e4"]
}, Open  ]],
Cell[93072, 2186, 696, 11, 31, "Direction", "ExpressionUUID" -> \
"a2be7386-a3d2-442e-97ef-e139641fa2fc"],
Cell[CellGroupData[{
Cell[93793, 2201, 730, 15, 70, "Input", "ExpressionUUID" -> \
"6e9b2bf8-7aae-415e-bf22-c7797bfb85b8",
 InitializationCell->True],
Cell[94526, 2218, 1988, 48, 228, "Output", "ExpressionUUID" -> \
"5519db0e-a39e-4778-b174-dc91fd6ac54c"]
}, Open  ]],
Cell[96529, 2269, 657, 12, 31, "Direction", "ExpressionUUID" -> \
"572694f4-e6a3-42fa-ba40-70403af5f6ef"],
Cell[CellGroupData[{
Cell[97211, 2285, 1299, 33, 91, "Input", "ExpressionUUID" -> \
"8fcc9e0d-3aab-4d2b-91a3-855fe605fd5f",
 InitializationCell->True],
Cell[98513, 2320, 2110, 50, 184, "Output", "ExpressionUUID" -> \
"bfb65f9b-09e9-4b52-afd2-40b431284fe4"]
}, Open  ]],
Cell[100638, 2373, 763, 11, 31, "Direction", "ExpressionUUID" -> \
"99315488-a569-4076-8acb-b20a769ed4ee"],
Cell[CellGroupData[{
Cell[101426, 2388, 396, 9, 48, "Input", "ExpressionUUID" -> \
"b6daabc2-0ad9-457d-8775-f375877516dd",
 InitializationCell->True],
Cell[101825, 2399, 824, 13, 32, "Output", "ExpressionUUID" -> \
"88463ede-74d7-4d5c-bcf8-7f8a76ca7a25"]
}, Open  ]],
Cell[102664, 2415, 949, 15, 31, "Direction", "ExpressionUUID" -> \
"199204b9-fb26-42ca-bb2d-a0c6116cad96"],
Cell[CellGroupData[{
Cell[103638, 2434, 415, 12, 70, "Input", "ExpressionUUID" -> \
"a4bbf7c0-b08b-49c5-ad67-17fbddbbc8e3",
 InitializationCell->True],
Cell[104056, 2448, 4020, 84, 184, "Output", "ExpressionUUID" -> \
"0639b8a2-9189-4387-af65-fcdad91e1ea2"]
}, Open  ]],
Cell[108091, 2535, 1068, 17, 49, "Text", "ExpressionUUID" -> \
"d98768ec-9a0a-4aa9-adae-f929f221905c"]
}, Open  ]],
Cell[CellGroupData[{
Cell[109196, 2557, 398, 6, 62, "Section", "ExpressionUUID" -> \
"d6a8d954-221a-488c-a67b-61c087184dc9"],
Cell[109597, 2565, 1383, 21, 49, "Text", "ExpressionUUID" -> \
"c1fef8c8-4314-46df-a919-80ff86a3ee17"],
Cell[110983, 2588, 1000, 15, 31, "Direction", "ExpressionUUID" -> \
"b7925070-4f88-4874-b9d1-ed1080543408"],
Cell[CellGroupData[{
Cell[112008, 2607, 574, 12, 48, "Input", "ExpressionUUID" -> \
"9045787e-42fd-4bbf-9478-2778eb67d089",
 InitializationCell->True],
Cell[112585, 2621, 1657, 42, 244, "Output", "ExpressionUUID" -> \
"c6a7c628-83f2-4bee-a365-f9a2fafb240a"]
}, Open  ]],
Cell[114257, 2666, 1306, 20, 30, "Text", "ExpressionUUID" -> \
"eeb4c2a0-5142-4cfe-8708-6c604c56a789"]
}, Open  ]],
Cell[CellGroupData[{
Cell[115600, 2691, 415, 6, 62, "Section", "ExpressionUUID" -> \
"7f748ea2-f554-4221-a4eb-0c6956e3f98d"],
Cell[116018, 2699, 1160, 18, 68, "Text", "ExpressionUUID" -> \
"e27fd655-a940-4e47-8164-c5571aae211e"],
Cell[117181, 2719, 374, 7, 31, "Direction", "ExpressionUUID" -> \
"1b83bbc0-cc92-4db3-ab42-2174d237a856"],
Cell[117558, 2728, 940, 15, 49, "Text", "ExpressionUUID" -> \
"8a1c1785-58e8-4c08-882b-e5fd679b83bd"],
Cell[118501, 2745, 320, 6, 31, "Direction", "ExpressionUUID" -> \
"cb7eb04a-4d62-41ee-a732-b53561c6aff7"],
Cell[CellGroupData[{
Cell[118846, 2755, 711, 16, 70, "Input", "ExpressionUUID" -> \
"c207f144-e4a5-466f-b5be-4e22f09c128b",
 InitializationCell->True],
Cell[119560, 2773, 1538, 35, 374, "Output", "ExpressionUUID" -> \
"07480d0c-01e4-4c88-b872-3911a1b0e52a"]
}, Open  ]],
Cell[121113, 2811, 262, 4, 31, "Direction", "ExpressionUUID" -> \
"1e5debb1-a827-4b10-9792-99b73a3033cf"],
Cell[CellGroupData[{
Cell[121400, 2819, 418, 7, 70, "Input", "ExpressionUUID" -> \
"5cae7b31-8a19-4bf7-b397-0c4248cb7cd4",
 InitializationCell->True],
Cell[121821, 2828, 1563, 36, 374, "Output", "ExpressionUUID" -> \
"d033eccd-b942-43dd-acf4-7ead48e09bf7"]
}, Open  ]],
Cell[123399, 2867, 1587, 23, 106, "Text", "ExpressionUUID" -> \
"e6200141-8162-4d6c-bf38-e9a1e86215c9"],
Cell[124989, 2892, 353, 7, 31, "Direction", "ExpressionUUID" -> \
"7fb2878f-4a4b-436e-9f33-70782c11a0bb"],
Cell[CellGroupData[{
Cell[125367, 2903, 689, 18, 70, "Input", "ExpressionUUID" -> \
"3179f701-72ca-4793-a5fa-6f60d07b879a",
 InitializationCell->True],
Cell[126059, 2923, 1484, 36, 374, "Output", "ExpressionUUID" -> \
"cf366672-35ac-43c7-a7b4-001821264e61"]
}, Open  ]],
Cell[127558, 2962, 344, 7, 31, "Direction", "ExpressionUUID" -> \
"33027123-4a9a-4f60-a46b-ffef566924be"],
Cell[CellGroupData[{
Cell[127927, 2973, 628, 17, 70, "Input", "ExpressionUUID" -> \
"604fa0c4-2c9b-4bc0-8c61-533c5aea0f63",
 InitializationCell->True],
Cell[128558, 2992, 1533, 36, 374, "Output", "ExpressionUUID" -> \
"4d9fcb62-cb98-4797-99ad-10e0af80f8ea"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[130140, 3034, 234, 4, 59, "FurtherExplorationSection", "ExpressionUUID" \
-> "b9532093-d59d-4bda-839f-ceb7c0b6d676"],
Cell[130377, 3040, 376, 7, 26, "FurtherExploration", "ExpressionUUID" -> \
"3dbe7f83-0e80-49c0-9428-f1dc4a681819"],
Cell[130756, 3049, 328, 6, 26, "FurtherExploration", "ExpressionUUID" -> \
"f9afc984-c5eb-4422-a91b-b5d447f8e05d"],
Cell[131087, 3057, 264, 5, 26, "FurtherExploration", "ExpressionUUID" -> \
"7cfad521-a059-4a62-abb5-4c5ae2ee387b"],
Cell[131354, 3064, 252, 4, 26, "FurtherExploration", "ExpressionUUID" -> \
"43b22134-d694-4bf4-b97f-eb6b83dc5a74"]
}, Open  ]],
Cell[CellGroupData[{
Cell[131643, 3073, 179, 3, 59, "AuthorshipSection", "ExpressionUUID" -> \
"3dea23e4-8ce7-4f0e-a74f-75530771ceb4"],
Cell[131825, 3078, 259, 4, 24, "Authorship", "ExpressionUUID" -> \
"ef51fcfa-04d2-4784-8dbe-807cb03d6aee"],
Cell[132087, 3084, 257, 4, 24, "Authorship", "ExpressionUUID" -> \
"092e4792-1266-4a76-8414-57286b1485fa"],
Cell[132347, 3090, 264, 4, 24, "Authorship", "ExpressionUUID" -> \
"31b6b083-ffa9-44da-82f1-894e81f42335"]
}, Open  ]]
}, Open  ]]
}
]
*)

